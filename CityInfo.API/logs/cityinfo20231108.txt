2023-11-08 12:34:32.610 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 12:34:33.055 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 12:34:33.169 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 12:34:40.236 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 12:34:40.612 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 12:34:40.622 +05:30 [DBG] Creating DbConnection.
2023-11-08 12:34:40.633 +05:30 [DBG] Created DbConnection. (9ms).
2023-11-08 12:34:40.636 +05:30 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.637 +05:30 [DBG] Creating DbConnection.
2023-11-08 12:34:40.638 +05:30 [DBG] Created DbConnection. (0ms).
2023-11-08 12:34:40.639 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.644 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.646 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.649 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 12:34:40.656 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-08 12:34:40.660 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-08 12:34:40.660 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-08 12:34:40.660 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.662 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.665 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-08 12:34:40.677 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-08 12:34:40.678 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.679 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 12:34:40.680 +05:30 [DBG] Creating DbConnection.
2023-11-08 12:34:40.680 +05:30 [DBG] Created DbConnection. (0ms).
2023-11-08 12:34:40.680 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.680 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.681 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.681 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 12:34:40.681 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-08 12:34:40.681 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-08 12:34:40.681 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-08 12:34:40.681 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.681 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.681 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-08 12:34:40.681 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-08 12:34:40.681 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.681 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 12:34:40.687 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 12:34:40.687 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-08 12:34:40.687 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-08 12:34:40.687 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.687 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.687 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-08 12:34:40.687 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-08 12:34:40.689 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.689 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-11-08 12:34:40.689 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.843 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (153ms).
2023-11-08 12:34:40.852 +05:30 [INF] Applying migration '20231108070433_addCityToUser'.
2023-11-08 12:34:40.871 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.872 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.872 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-08 12:34:40.874 +05:30 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-08 12:34:40.875 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-08 12:34:40.875 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-08 12:34:40.875 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-08 12:34:40.875 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "City" TEXT NOT NULL DEFAULT '';
2023-11-08 12:34:40.875 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "City" TEXT NOT NULL DEFAULT '';
2023-11-08 12:34:40.875 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-08 12:34:40.875 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-08 12:34:40.875 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-08 12:34:40.876 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231108070433_addCityToUser', '7.0.13');
2023-11-08 12:34:40.876 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231108070433_addCityToUser', '7.0.13');
2023-11-08 12:34:40.876 +05:30 [DBG] Committing transaction.
2023-11-08 12:34:40.879 +05:30 [DBG] Committed transaction.
2023-11-08 12:34:40.880 +05:30 [DBG] Disposing transaction.
2023-11-08 12:34:40.880 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:34:40.880 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 12:34:40.881 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 12:34:40.881 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:34:40.881 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 12:40:12.202 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 12:40:12.287 +05:30 [DBG] Hosting starting
2023-11-08 12:40:12.312 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 12:40:12.315 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 12:40:12.329 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 12:40:12.337 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 12:40:12.339 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 12:40:12.344 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 12:40:12.345 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 12:40:12.350 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 12:40:12.352 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 12:40:12.357 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 12:40:12.358 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 12:40:12.549 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 12:40:12.617 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 12:40:12.618 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 12:40:12.619 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 12:40:12.621 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 12:40:12.622 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 12:40:12.623 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 12:40:12.624 +05:30 [INF] Hosting environment: Development
2023-11-08 12:40:12.625 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 12:40:12.626 +05:30 [DBG] Hosting started
2023-11-08 12:40:12.863 +05:30 [DBG] Connection id "0HMV05705O54H" accepted.
2023-11-08 12:40:12.864 +05:30 [DBG] Connection id "0HMV05705O54I" accepted.
2023-11-08 12:40:12.869 +05:30 [DBG] Connection id "0HMV05705O54I" started.
2023-11-08 12:40:12.867 +05:30 [DBG] Connection id "0HMV05705O54H" started.
2023-11-08 12:40:13.151 +05:30 [DBG] Connection id "0HMV05705O54J" accepted.
2023-11-08 12:40:13.156 +05:30 [DBG] Connection id "0HMV05705O54J" started.
2023-11-08 12:40:13.158 +05:30 [DBG] Connection id "0HMV05705O54K" accepted.
2023-11-08 12:40:13.159 +05:30 [DBG] Connection id "0HMV05705O54K" started.
2023-11-08 12:40:13.180 +05:30 [DBG] Connection id "0HMV05705O54K" received FIN.
2023-11-08 12:40:13.189 +05:30 [DBG] Connection 0HMV05705O54K established using the following protocol: "Tls13"
2023-11-08 12:40:13.189 +05:30 [DBG] Connection 0HMV05705O54J established using the following protocol: "Tls13"
2023-11-08 12:40:13.200 +05:30 [DBG] Connection id "0HMV05705O54K" is closed. The last processed stream ID was 0.
2023-11-08 12:40:13.202 +05:30 [DBG] Connection id "0HMV05705O54K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 12:40:13.207 +05:30 [DBG] Connection id "0HMV05705O54K" stopped.
2023-11-08 12:40:13.217 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger - -
2023-11-08 12:40:13.238 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 12:40:13.289 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger - - - 301 0 - 73.6779ms
2023-11-08 12:40:13.294 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 12:40:13.402 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 12:40:13.509 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 12:40:13.513 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 219.7157ms
2023-11-08 12:40:13.517 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/swagger-ui.css - -
2023-11-08 12:40:13.517 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/swagger-ui-bundle.js - -
2023-11-08 12:40:13.518 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 12:40:13.518 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/swagger-ui-standalone-preset.js - -
2023-11-08 12:40:13.522 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.8078ms
2023-11-08 12:40:13.526 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 12:40:13.526 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-08 12:40:13.528 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-08 12:40:13.562 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 44.1176ms
2023-11-08 12:40:13.567 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/swagger-ui.css - - - 200 144929 text/css 49.9033ms
2023-11-08 12:40:13.577 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-08 12:40:13.578 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 61.1512ms
2023-11-08 12:40:13.595 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.1678ms
2023-11-08 12:40:13.670 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 12:40:13.786 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.4506ms
2023-11-08 12:40:17.624 +05:30 [DBG] Connection id "0HMV05705O54L" accepted.
2023-11-08 12:40:17.625 +05:30 [DBG] Connection id "0HMV05705O54L" received FIN.
2023-11-08 12:40:17.627 +05:30 [DBG] Connection id "0HMV05705O54L" started.
2023-11-08 12:40:17.628 +05:30 [DBG] Connection id "0HMV05705O54M" accepted.
2023-11-08 12:40:17.632 +05:30 [DBG] Connection id "0HMV05705O54M" started.
2023-11-08 12:40:17.633 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 12:40:17.639 +05:30 [DBG] Connection 0HMV05705O54M established using the following protocol: "Tls13"
2023-11-08 12:40:17.663 +05:30 [DBG] Connection id "0HMV05705O54L" stopped.
2023-11-08 12:40:17.666 +05:30 [DBG] Connection id "0HMV05705O54L" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 12:40:17.673 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 101
2023-11-08 12:40:17.676 +05:30 [DBG] POST requests are not supported
2023-11-08 12:40:17.711 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2023-11-08 12:40:17.725 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2023-11-08 12:40:17.738 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 12:40:17.857 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 12:40:17.863 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 12:40:17.906 +05:30 [INF] Route matched with {action = "UserSignup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserSignup(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2023-11-08 12:40:17.909 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 12:40:17.911 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 12:40:17.913 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 12:40:17.915 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 12:40:17.917 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 12:40:17.920 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 12:40:18.364 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 12:40:18.398 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 12:40:18.405 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 12:40:18.409 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2023-11-08 12:40:18.412 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 12:40:18.414 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 12:40:18.425 +05:30 [DBG] Connection id "0HMV05705O54M", Request id "0HMV05705O54M:00000002": started reading request body.
2023-11-08 12:40:18.430 +05:30 [DBG] Connection id "0HMV05705O54M", Request id "0HMV05705O54M:00000002": done reading request body.
2023-11-08 12:40:18.565 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 12:40:18.567 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 12:40:18.569 +05:30 [DBG] Attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 12:40:18.580 +05:30 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 12:40:18.585 +05:30 [DBG] The request has model state errors, returning an error response.
2023-11-08 12:40:18.587 +05:30 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-11-08 12:40:18.590 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 12:40:18.595 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 12:40:18.596 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-11-08 12:40:18.601 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-11-08 12:40:18.603 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-11-08 12:40:18.694 +05:30 [INF] Executed action CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) in 768.8979ms
2023-11-08 12:40:18.698 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 12:40:18.699 +05:30 [DBG] Connection id "0HMV05705O54M" completed keep alive response.
2023-11-08 12:40:18.706 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 101 - 400 241 application/problem+json;+charset=utf-8 1032.5679ms
2023-11-08 12:40:22.879 +05:30 [DBG] Authentication of the HTTPS connection timed out.
2023-11-08 12:40:22.879 +05:30 [DBG] Authentication of the HTTPS connection timed out.
2023-11-08 12:40:22.881 +05:30 [DBG] Connection id "0HMV05705O54H" stopped.
2023-11-08 12:40:22.883 +05:30 [DBG] Connection id "0HMV05705O54I" stopped.
2023-11-08 12:40:22.885 +05:30 [DBG] Connection id "0HMV05705O54H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 12:40:22.887 +05:30 [DBG] Connection id "0HMV05705O54I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 12:40:39.655 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 123
2023-11-08 12:40:39.658 +05:30 [DBG] POST requests are not supported
2023-11-08 12:40:39.662 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2023-11-08 12:40:39.664 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2023-11-08 12:40:39.668 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 12:40:39.671 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 12:40:39.672 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 12:40:39.674 +05:30 [INF] Route matched with {action = "UserSignup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserSignup(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2023-11-08 12:40:39.677 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 12:40:39.680 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 12:40:39.682 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 12:40:39.685 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 12:40:39.686 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 12:40:39.688 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 12:40:39.701 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 12:40:39.705 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 12:40:39.708 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2023-11-08 12:40:39.710 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 12:40:39.716 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 12:40:39.718 +05:30 [DBG] Connection id "0HMV05705O54M", Request id "0HMV05705O54M:00000003": started reading request body.
2023-11-08 12:40:39.720 +05:30 [DBG] Connection id "0HMV05705O54M", Request id "0HMV05705O54M:00000003": done reading request body.
2023-11-08 12:40:39.722 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 12:40:39.724 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 12:40:39.725 +05:30 [DBG] Attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 12:40:39.727 +05:30 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 12:40:39.793 +05:30 [INF] Executing action method CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) - Validation state: "Valid"
2023-11-08 12:40:41.169 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 12:40:41.235 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __email_0)'
2023-11-08 12:40:41.583 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 12:40:41.646 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 12:40:41.652 +05:30 [DBG] Creating DbConnection.
2023-11-08 12:40:41.677 +05:30 [DBG] Created DbConnection. (20ms).
2023-11-08 12:40:41.689 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2023-11-08 12:40:41.699 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (53ms).
2023-11-08 12:40:41.715 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:40:41.736 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:40:41.756 +05:30 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0)
2023-11-08 12:40:41.788 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0)
2023-11-08 12:40:41.807 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:40:41.824 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 18ms reading results.
2023-11-08 12:40:41.843 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:40:41.855 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (13ms).
2023-11-08 12:40:41.859 +05:30 [INF] User Already exists? False
2023-11-08 12:40:41.896 +05:30 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 12:40:41.950 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 12:40:41.962 +05:30 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-08 12:40:41.968 +05:30 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-08 12:40:41.983 +05:30 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-08 12:40:42.086 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:40:42.092 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:40:42.100 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 12:40:42.103 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-08 12:40:42.106 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-11-08 12:40:42.109 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 5), @p1='?' (Size = 22), @p2='?' (Size = 6), @p3='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("City", "Email", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2023-11-08 12:40:42.112 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 5), @p1='?' (Size = 22), @p2='?' (Size = 6), @p3='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("City", "Email", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2023-11-08 12:40:42.143 +05:30 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-08 12:40:42.165 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:40:42.170 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 53ms reading results.
2023-11-08 12:40:42.173 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 12:40:42.174 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 12:40:42.191 +05:30 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 12:40:42.197 +05:30 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-08 12:40:42.207 +05:30 [INF] Executed action method CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2404.8694ms.
2023-11-08 12:40:42.211 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 12:40:42.217 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 12:40:42.219 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 12:40:42.220 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 12:40:42.221 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 12:40:42.223 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 12:40:42.231 +05:30 [INF] Executed action CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) in 2542.9538ms
2023-11-08 12:40:42.235 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 12:40:42.237 +05:30 [DBG] Connection id "0HMV05705O54M" completed keep alive response.
2023-11-08 12:40:42.241 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 12:40:42.253 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 12:40:42.257 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-11-08 12:40:42.260 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 123 - 200 - text/plain;+charset=utf-8 2605.1209ms
2023-11-08 13:01:29.474 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 123
2023-11-08 13:01:29.479 +05:30 [DBG] POST requests are not supported
2023-11-08 13:01:29.481 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2023-11-08 13:01:29.483 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2023-11-08 13:01:29.485 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:01:29.489 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 13:01:29.490 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:01:29.493 +05:30 [INF] Route matched with {action = "UserSignup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserSignup(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2023-11-08 13:01:29.495 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 13:01:29.496 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 13:01:29.497 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 13:01:29.498 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 13:01:29.500 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 13:01:29.502 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 13:01:29.510 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 13:01:29.511 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 13:01:29.513 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2023-11-08 13:01:29.515 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 13:01:29.517 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 13:01:29.518 +05:30 [DBG] Connection id "0HMV05705O54M", Request id "0HMV05705O54M:00000004": started reading request body.
2023-11-08 13:01:29.520 +05:30 [DBG] Connection id "0HMV05705O54M", Request id "0HMV05705O54M:00000004": done reading request body.
2023-11-08 13:01:29.521 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:01:29.523 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:01:29.524 +05:30 [DBG] Attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 13:01:29.525 +05:30 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:01:29.538 +05:30 [INF] Executing action method CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) - Validation state: "Valid"
2023-11-08 13:04:51.404 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 13:04:51.414 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 13:04:51.415 +05:30 [DBG] Creating DbConnection.
2023-11-08 13:04:51.418 +05:30 [DBG] Created DbConnection. (2ms).
2023-11-08 13:04:51.421 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-11-08 13:04:51.424 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2023-11-08 13:04:51.427 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:04:51.430 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:04:51.432 +05:30 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0)
2023-11-08 13:04:51.437 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0)
2023-11-08 13:04:51.441 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:04:51.443 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-11-08 13:04:51.445 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:04:51.447 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 13:04:51.450 +05:30 [INF] User Already exists? True
2023-11-08 13:04:51.452 +05:30 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 13:04:51.455 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 13:04:51.458 +05:30 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-08 13:04:51.460 +05:30 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-08 13:04:51.462 +05:30 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-08 13:04:51.465 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:04:51.468 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:04:51.472 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 13:04:51.475 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-11-08 13:04:51.479 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-11-08 13:04:51.482 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 5), @p1='?' (Size = 22), @p2='?' (Size = 6), @p3='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("City", "Email", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2023-11-08 13:04:51.495 +05:30 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (Size = 5), @p1='?' (Size = 22), @p2='?' (Size = 6), @p3='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("City", "Email", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2023-11-08 13:04:51.512 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:04:51.516 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-11-08 13:04:51.531 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Users.Email'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Users.Email'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-08 13:04:51.573 +05:30 [INF] Executed action method CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 202032.7311ms.
2023-11-08 13:04:51.580 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 13:04:51.586 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 13:04:51.588 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 13:04:51.589 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 13:04:51.591 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 13:04:51.593 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 13:04:51.596 +05:30 [INF] Executed action CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) in 202094.2043ms
2023-11-08 13:04:51.598 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:04:51.600 +05:30 [DBG] Connection id "0HMV05705O54M" completed keep alive response.
2023-11-08 13:04:51.602 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 13:04:51.604 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:04:51.606 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-11-08 13:04:51.608 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 123 - 200 - text/plain;+charset=utf-8 202134.3616ms
2023-11-08 13:16:08.209 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 13:16:08.582 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 13:16:08.685 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 13:16:17.119 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 13:16:17.491 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 13:16:17.498 +05:30 [DBG] Creating DbConnection.
2023-11-08 13:16:17.508 +05:30 [DBG] Created DbConnection. (8ms).
2023-11-08 13:16:17.511 +05:30 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.512 +05:30 [DBG] Creating DbConnection.
2023-11-08 13:16:17.513 +05:30 [DBG] Created DbConnection. (0ms).
2023-11-08 13:16:17.513 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.518 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.520 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.522 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 13:16:17.528 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-08 13:16:17.531 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-08 13:16:17.532 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2023-11-08 13:16:17.532 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.533 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.537 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-08 13:16:17.546 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-08 13:16:17.547 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.548 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 13:16:17.549 +05:30 [DBG] Creating DbConnection.
2023-11-08 13:16:17.549 +05:30 [DBG] Created DbConnection. (0ms).
2023-11-08 13:16:17.549 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.549 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.549 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.549 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 13:16:17.549 +05:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-08 13:16:17.549 +05:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-08 13:16:17.549 +05:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-08 13:16:17.549 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.549 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.549 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-08 13:16:17.549 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-08 13:16:17.549 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.549 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 13:16:17.554 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 13:16:17.554 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-08 13:16:17.554 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-08 13:16:17.554 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.554 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.554 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-08 13:16:17.555 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-08 13:16:17.556 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.556 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-11-08 13:16:17.556 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.556 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 13:16:17.562 +05:30 [INF] Applying migration '20231108074608_AddEncryptedPasswordToUser'.
2023-11-08 13:16:17.578 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.578 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.579 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-08 13:16:17.580 +05:30 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-08 13:16:17.581 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-08 13:16:17.581 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-08 13:16:17.581 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-08 13:16:17.581 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "EncryptedPassword" TEXT NOT NULL DEFAULT '';
2023-11-08 13:16:17.983 +05:30 [INF] Executed DbCommand (402ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "EncryptedPassword" TEXT NOT NULL DEFAULT '';
2023-11-08 13:16:17.984 +05:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-08 13:16:17.984 +05:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-08 13:16:17.984 +05:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-08 13:16:17.984 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231108074608_AddEncryptedPasswordToUser', '7.0.13');
2023-11-08 13:16:17.984 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231108074608_AddEncryptedPasswordToUser', '7.0.13');
2023-11-08 13:16:17.984 +05:30 [DBG] Committing transaction.
2023-11-08 13:16:17.993 +05:30 [DBG] Committed transaction.
2023-11-08 13:16:17.994 +05:30 [DBG] Disposing transaction.
2023-11-08 13:16:17.994 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:16:17.994 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 13:16:17.995 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 13:16:17.995 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:16:17.995 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-11-08 13:16:44.264 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 13:16:44.351 +05:30 [DBG] Hosting starting
2023-11-08 13:16:44.377 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 13:16:44.380 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 13:16:44.395 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 13:16:44.403 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 13:16:44.406 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 13:16:44.409 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 13:16:44.411 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 13:16:44.415 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 13:16:44.418 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 13:16:44.422 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 13:16:44.423 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 13:16:44.549 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 13:16:44.590 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 13:16:44.592 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 13:16:44.594 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 13:16:44.595 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 13:16:44.596 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 13:16:44.597 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 13:16:44.598 +05:30 [INF] Hosting environment: Development
2023-11-08 13:16:44.599 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 13:16:44.601 +05:30 [DBG] Hosting started
2023-11-08 13:16:44.914 +05:30 [DBG] Connection id "0HMV05RDEPK5C" accepted.
2023-11-08 13:16:44.916 +05:30 [DBG] Connection id "0HMV05RDEPK5C" started.
2023-11-08 13:16:44.920 +05:30 [DBG] Connection id "0HMV05RDEPK5D" accepted.
2023-11-08 13:16:44.921 +05:30 [DBG] Connection id "0HMV05RDEPK5D" started.
2023-11-08 13:16:44.935 +05:30 [DBG] Connection id "0HMV05RDEPK5D" received FIN.
2023-11-08 13:16:44.935 +05:30 [DBG] Connection id "0HMV05RDEPK5C" received FIN.
2023-11-08 13:16:44.949 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 13:16:44.949 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 13:16:44.974 +05:30 [DBG] Connection id "0HMV05RDEPK5D" stopped.
2023-11-08 13:16:44.974 +05:30 [DBG] Connection id "0HMV05RDEPK5C" stopped.
2023-11-08 13:16:44.977 +05:30 [DBG] Connection id "0HMV05RDEPK5C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 13:16:44.977 +05:30 [DBG] Connection id "0HMV05RDEPK5D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 13:16:45.073 +05:30 [DBG] Connection id "0HMV05RDEPK5E" accepted.
2023-11-08 13:16:45.074 +05:30 [DBG] Connection id "0HMV05RDEPK5E" started.
2023-11-08 13:16:45.101 +05:30 [DBG] Connection 0HMV05RDEPK5E established using the following protocol: "Tls13"
2023-11-08 13:16:45.130 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 13:16:45.149 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 13:16:45.302 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 13:16:45.397 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 13:16:45.401 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 273.5200ms
2023-11-08 13:16:45.409 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 13:16:45.411 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 13:16:45.414 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.2944ms
2023-11-08 13:16:45.426 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.9866ms
2023-11-08 13:16:45.529 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 13:16:45.647 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.7614ms
2023-11-08 13:17:07.864 +05:30 [DBG] Connection id "0HMV05RDEPK5F" received FIN.
2023-11-08 13:17:07.867 +05:30 [DBG] Connection id "0HMV05RDEPK5F" accepted.
2023-11-08 13:17:07.869 +05:30 [DBG] Connection id "0HMV05RDEPK5F" started.
2023-11-08 13:17:07.876 +05:30 [DBG] Connection id "0HMV05RDEPK5G" accepted.
2023-11-08 13:17:07.877 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 13:17:07.943 +05:30 [DBG] Connection id "0HMV05RDEPK5G" started.
2023-11-08 13:17:07.948 +05:30 [DBG] Connection id "0HMV05RDEPK5F" stopped.
2023-11-08 13:17:07.951 +05:30 [DBG] Connection id "0HMV05RDEPK5F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 13:17:07.977 +05:30 [DBG] Connection 0HMV05RDEPK5G established using the following protocol: "Tls13"
2023-11-08 13:17:07.994 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 100
2023-11-08 13:17:07.997 +05:30 [DBG] POST requests are not supported
2023-11-08 13:17:08.030 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2023-11-08 13:17:08.042 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2023-11-08 13:17:08.051 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:17:09.002 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 13:17:09.009 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:17:09.052 +05:30 [INF] Route matched with {action = "UserSignup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserSignup(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2023-11-08 13:17:09.056 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 13:17:09.057 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 13:17:09.059 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 13:17:09.061 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 13:17:09.063 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 13:17:09.068 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 13:17:09.404 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 13:17:09.439 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 13:17:09.450 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 13:17:09.456 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2023-11-08 13:17:09.461 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 13:17:09.465 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 13:17:09.486 +05:30 [DBG] Connection id "0HMV05RDEPK5G", Request id "0HMV05RDEPK5G:00000002": started reading request body.
2023-11-08 13:17:09.493 +05:30 [DBG] Connection id "0HMV05RDEPK5G", Request id "0HMV05RDEPK5G:00000002": done reading request body.
2023-11-08 13:17:09.635 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:17:09.640 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:17:09.642 +05:30 [DBG] Attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 13:17:09.653 +05:30 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:17:09.659 +05:30 [DBG] The request has model state errors, returning an error response.
2023-11-08 13:17:09.662 +05:30 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-11-08 13:17:09.667 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 13:17:09.673 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 13:17:09.674 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-11-08 13:17:09.679 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-11-08 13:17:09.681 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-11-08 13:17:09.771 +05:30 [INF] Executed action CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) in 697.3651ms
2023-11-08 13:17:09.775 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:17:09.777 +05:30 [DBG] Connection id "0HMV05RDEPK5G" completed keep alive response.
2023-11-08 13:17:09.783 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 100 - 400 306 application/problem+json;+charset=utf-8 1788.7800ms
2023-11-08 13:26:04.160 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 13:26:04.262 +05:30 [DBG] Hosting starting
2023-11-08 13:26:04.289 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 13:26:04.292 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 13:26:04.306 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 13:26:04.314 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 13:26:04.317 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 13:26:04.320 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 13:26:04.322 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 13:26:04.327 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 13:26:04.329 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 13:26:04.332 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 13:26:04.333 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 13:26:04.450 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 13:26:04.490 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 13:26:04.491 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 13:26:04.492 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 13:26:04.493 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 13:26:04.495 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 13:26:04.496 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 13:26:04.497 +05:30 [INF] Hosting environment: Development
2023-11-08 13:26:04.498 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 13:26:04.499 +05:30 [DBG] Hosting started
2023-11-08 13:26:04.735 +05:30 [DBG] Connection id "0HMV060K9M0CD" received FIN.
2023-11-08 13:26:04.744 +05:30 [DBG] Connection id "0HMV060K9M0CD" accepted.
2023-11-08 13:26:04.746 +05:30 [DBG] Connection id "0HMV060K9M0CD" started.
2023-11-08 13:26:04.757 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 13:26:04.779 +05:30 [DBG] Connection id "0HMV060K9M0CD" stopped.
2023-11-08 13:26:04.782 +05:30 [DBG] Connection id "0HMV060K9M0CD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 13:26:04.991 +05:30 [DBG] Connection id "0HMV060K9M0CE" accepted.
2023-11-08 13:26:04.993 +05:30 [DBG] Connection id "0HMV060K9M0CE" started.
2023-11-08 13:26:05.016 +05:30 [DBG] Connection 0HMV060K9M0CE established using the following protocol: "Tls13"
2023-11-08 13:26:05.045 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 13:26:05.064 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 13:26:05.213 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 13:26:05.315 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 13:26:05.319 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 13:26:05.321 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 278.1495ms
2023-11-08 13:26:05.323 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.9797ms
2023-11-08 13:26:05.326 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 13:26:05.345 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.3424ms
2023-11-08 13:26:05.386 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 13:26:05.503 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.3372ms
2023-11-08 13:26:58.321 +05:30 [DBG] Connection id "0HMV060K9M0CF" accepted.
2023-11-08 13:26:58.321 +05:30 [DBG] Connection id "0HMV060K9M0CF" received FIN.
2023-11-08 13:26:58.325 +05:30 [DBG] Connection id "0HMV060K9M0CF" started.
2023-11-08 13:26:58.331 +05:30 [DBG] Connection id "0HMV060K9M0CG" accepted.
2023-11-08 13:26:58.341 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 13:26:58.342 +05:30 [DBG] Connection id "0HMV060K9M0CG" started.
2023-11-08 13:26:58.346 +05:30 [DBG] Connection id "0HMV060K9M0CF" stopped.
2023-11-08 13:26:58.348 +05:30 [DBG] Connection id "0HMV060K9M0CF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 13:26:58.361 +05:30 [DBG] Connection 0HMV060K9M0CG established using the following protocol: "Tls13"
2023-11-08 13:26:58.375 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 122
2023-11-08 13:26:58.381 +05:30 [DBG] POST requests are not supported
2023-11-08 13:26:58.414 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2023-11-08 13:26:58.426 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2023-11-08 13:26:58.439 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:26:58.505 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 13:26:58.511 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:26:58.551 +05:30 [INF] Route matched with {action = "UserSignup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserSignup(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2023-11-08 13:26:58.556 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 13:26:58.559 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 13:26:58.561 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 13:26:58.564 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 13:26:58.565 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 13:26:58.569 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 13:26:58.888 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 13:26:58.918 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 13:26:58.926 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 13:26:58.931 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2023-11-08 13:26:58.935 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 13:26:58.937 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 13:26:58.948 +05:30 [DBG] Connection id "0HMV060K9M0CG", Request id "0HMV060K9M0CG:00000002": started reading request body.
2023-11-08 13:26:58.950 +05:30 [DBG] Connection id "0HMV060K9M0CG", Request id "0HMV060K9M0CG:00000002": done reading request body.
2023-11-08 13:26:59.076 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:26:59.079 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:26:59.081 +05:30 [DBG] Attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 13:26:59.096 +05:30 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:26:59.102 +05:30 [DBG] The request has model state errors, returning an error response.
2023-11-08 13:26:59.105 +05:30 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-11-08 13:26:59.109 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 13:26:59.118 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 13:26:59.120 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-11-08 13:26:59.125 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-11-08 13:26:59.126 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-11-08 13:26:59.215 +05:30 [INF] Executed action CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) in 640.7686ms
2023-11-08 13:26:59.219 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:26:59.220 +05:30 [DBG] Connection id "0HMV060K9M0CG" completed keep alive response.
2023-11-08 13:26:59.224 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 122 - 400 267 application/problem+json;+charset=utf-8 849.3086ms
2023-11-08 13:27:20.621 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 160
2023-11-08 13:27:20.624 +05:30 [DBG] POST requests are not supported
2023-11-08 13:27:20.630 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2023-11-08 13:27:20.633 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2023-11-08 13:27:20.636 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:27:20.639 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 13:27:20.665 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:27:20.668 +05:30 [INF] Route matched with {action = "UserSignup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserSignup(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2023-11-08 13:27:20.672 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 13:27:20.675 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 13:27:20.678 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 13:27:20.685 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 13:27:20.688 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 13:27:20.692 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 13:27:20.704 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 13:27:20.707 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 13:27:20.710 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2023-11-08 13:27:20.714 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 13:27:20.717 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 13:27:20.720 +05:30 [DBG] Connection id "0HMV060K9M0CG", Request id "0HMV060K9M0CG:00000003": started reading request body.
2023-11-08 13:27:20.722 +05:30 [DBG] Connection id "0HMV060K9M0CG", Request id "0HMV060K9M0CG:00000003": done reading request body.
2023-11-08 13:27:20.725 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:27:20.728 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:27:20.732 +05:30 [DBG] Attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 13:27:20.735 +05:30 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 13:27:20.800 +05:30 [INF] Executing action method CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) - Validation state: "Valid"
2023-11-08 13:27:28.033 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 13:27:28.090 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __email_0)'
2023-11-08 13:27:28.452 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 13:27:28.515 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 13:27:28.522 +05:30 [DBG] Creating DbConnection.
2023-11-08 13:27:28.549 +05:30 [DBG] Created DbConnection. (22ms).
2023-11-08 13:27:28.569 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2023-11-08 13:27:28.587 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (70ms).
2023-11-08 13:27:28.606 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:27:28.629 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:27:28.648 +05:30 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0)
2023-11-08 13:27:28.687 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@__email_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0)
2023-11-08 13:27:28.703 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:27:28.719 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 18ms reading results.
2023-11-08 13:27:28.734 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:27:28.743 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2023-11-08 13:27:28.747 +05:30 [INF] User Already exists? False
2023-11-08 13:27:28.986 +05:30 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 13:27:29.047 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 13:27:29.065 +05:30 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-08 13:27:29.073 +05:30 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-08 13:27:29.088 +05:30 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-08 13:27:29.178 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:27:29.185 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:27:29.193 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 13:27:29.196 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-11-08 13:27:29.198 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-08 13:27:29.199 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 5), @p1='?' (Size = 21), @p2='?' (Size = 60), @p3='?' (Size = 6), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("City", "Email", "EncryptedPassword", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2023-11-08 13:27:29.202 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 5), @p1='?' (Size = 21), @p2='?' (Size = 60), @p3='?' (Size = 6), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("City", "Email", "EncryptedPassword", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2023-11-08 13:27:29.223 +05:30 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-08 13:27:29.236 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:27:29.240 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 35ms reading results.
2023-11-08 13:27:29.242 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 13:27:29.244 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 13:27:29.261 +05:30 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 13:27:29.266 +05:30 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-08 13:27:29.273 +05:30 [INF] Executed action method CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8463.4458ms.
2023-11-08 13:27:29.275 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 13:27:29.279 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 13:27:29.280 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 13:27:29.281 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 13:27:29.282 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 13:27:29.283 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 13:27:29.292 +05:30 [INF] Executed action CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) in 8600.258ms
2023-11-08 13:27:29.294 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 13:27:29.296 +05:30 [DBG] Connection id "0HMV060K9M0CG" completed keep alive response.
2023-11-08 13:27:29.299 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 13:27:29.317 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 13:27:29.324 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (7ms).
2023-11-08 13:27:29.327 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 160 - 200 - text/plain;+charset=utf-8 8706.1300ms
2023-11-08 14:01:41.595 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 14:01:41.705 +05:30 [DBG] Hosting starting
2023-11-08 14:01:41.731 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 14:01:41.734 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 14:01:41.758 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 14:01:41.769 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 14:01:41.772 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:01:41.776 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 14:01:41.778 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:01:41.783 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 14:01:41.786 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 14:01:41.789 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 14:01:41.791 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 14:01:41.905 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 14:01:41.944 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 14:01:41.946 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 14:01:41.947 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 14:01:41.948 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 14:01:41.949 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 14:01:41.950 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 14:01:41.951 +05:30 [INF] Hosting environment: Development
2023-11-08 14:01:41.952 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 14:01:41.953 +05:30 [DBG] Hosting started
2023-11-08 14:01:42.173 +05:30 [DBG] Connection id "0HMV06KH9S2AM" received FIN.
2023-11-08 14:01:42.187 +05:30 [DBG] Connection id "0HMV06KH9S2AM" accepted.
2023-11-08 14:01:42.190 +05:30 [DBG] Connection id "0HMV06KH9S2AM" started.
2023-11-08 14:01:42.205 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:01:42.228 +05:30 [DBG] Connection id "0HMV06KH9S2AM" stopped.
2023-11-08 14:01:42.231 +05:30 [DBG] Connection id "0HMV06KH9S2AM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:01:42.359 +05:30 [DBG] Connection id "0HMV06KH9S2AN" accepted.
2023-11-08 14:01:42.360 +05:30 [DBG] Connection id "0HMV06KH9S2AN" started.
2023-11-08 14:01:42.392 +05:30 [DBG] Connection 0HMV06KH9S2AN established using the following protocol: "Tls13"
2023-11-08 14:01:42.419 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 14:01:42.438 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 14:01:42.595 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 14:01:42.713 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 14:01:42.715 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 14:01:42.717 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 300.1675ms
2023-11-08 14:01:42.718 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.6276ms
2023-11-08 14:01:42.722 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 14:01:42.737 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.4391ms
2023-11-08 14:01:42.773 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 14:01:42.894 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.2633ms
2023-11-08 14:02:15.705 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 14:02:15.798 +05:30 [DBG] Hosting starting
2023-11-08 14:02:15.822 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 14:02:15.825 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 14:02:15.833 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 14:02:15.842 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 14:02:15.845 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:02:15.849 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 14:02:15.851 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:02:15.856 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 14:02:15.859 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 14:02:15.863 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 14:02:15.864 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 14:02:15.960 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 14:02:16.009 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 14:02:16.010 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 14:02:16.011 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 14:02:16.012 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 14:02:16.013 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 14:02:16.014 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 14:02:16.015 +05:30 [INF] Hosting environment: Development
2023-11-08 14:02:16.016 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 14:02:16.017 +05:30 [DBG] Hosting started
2023-11-08 14:02:16.429 +05:30 [DBG] Connection id "0HMV06KRGI6KM" received FIN.
2023-11-08 14:02:16.429 +05:30 [DBG] Connection id "0HMV06KRGI6KN" received FIN.
2023-11-08 14:02:16.440 +05:30 [DBG] Connection id "0HMV06KRGI6KM" accepted.
2023-11-08 14:02:16.440 +05:30 [DBG] Connection id "0HMV06KRGI6KN" accepted.
2023-11-08 14:02:16.442 +05:30 [DBG] Connection id "0HMV06KRGI6KM" started.
2023-11-08 14:02:16.443 +05:30 [DBG] Connection id "0HMV06KRGI6KN" started.
2023-11-08 14:02:16.453 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:02:16.453 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:02:16.476 +05:30 [DBG] Connection id "0HMV06KRGI6KN" stopped.
2023-11-08 14:02:16.476 +05:30 [DBG] Connection id "0HMV06KRGI6KM" stopped.
2023-11-08 14:02:16.479 +05:30 [DBG] Connection id "0HMV06KRGI6KN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:02:16.479 +05:30 [DBG] Connection id "0HMV06KRGI6KM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:02:16.619 +05:30 [DBG] Connection id "0HMV06KRGI6KO" accepted.
2023-11-08 14:02:16.620 +05:30 [DBG] Connection id "0HMV06KRGI6KO" started.
2023-11-08 14:02:16.643 +05:30 [DBG] Connection 0HMV06KRGI6KO established using the following protocol: "Tls13"
2023-11-08 14:02:16.674 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 14:02:16.694 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 14:02:16.845 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 14:02:16.936 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 14:02:16.940 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 267.9202ms
2023-11-08 14:02:16.943 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 14:02:16.947 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.2268ms
2023-11-08 14:02:16.952 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 14:02:16.969 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.9036ms
2023-11-08 14:02:17.007 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 14:02:17.088 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - CityInfo.API.Controllers.NewAuthenticationController+AuthenticationRequestBody. See inner exception
 ---> System.InvalidOperationException: Can't use schemaId "$AuthenticationRequestBody" for type "$CityInfo.API.Controllers.NewAuthenticationController+AuthenticationRequestBody". The same schemaId is already used for type "$CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody"
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaRepository.RegisterType(Type type, String schemaId)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateReferencedSchema(DataContract dataContract, SchemaRepository schemaRepository, Func`1 definitionFactory)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateConcreteSchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBody(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-08 14:02:17.099 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 91.7124ms
2023-11-08 14:21:41.337 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 14:21:41.447 +05:30 [DBG] Hosting starting
2023-11-08 14:21:41.473 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 14:21:41.476 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 14:21:41.490 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 14:21:41.499 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 14:21:41.501 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:21:41.506 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 14:21:41.508 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:21:41.513 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 14:21:41.516 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 14:21:41.520 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 14:21:41.521 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 14:21:41.620 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 14:21:41.660 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 14:21:41.662 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 14:21:41.663 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 14:21:41.664 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 14:21:41.665 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 14:21:41.666 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 14:21:41.667 +05:30 [INF] Hosting environment: Development
2023-11-08 14:21:41.668 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 14:21:41.669 +05:30 [DBG] Hosting started
2023-11-08 14:21:41.764 +05:30 [DBG] Connection id "0HMV06VMPVQVU" accepted.
2023-11-08 14:21:41.765 +05:30 [DBG] Connection id "0HMV06VMPVQVV" received FIN.
2023-11-08 14:21:41.766 +05:30 [DBG] Connection id "0HMV06VMPVQVU" received FIN.
2023-11-08 14:21:41.768 +05:30 [DBG] Connection id "0HMV06VMPVQVU" started.
2023-11-08 14:21:41.771 +05:30 [DBG] Connection id "0HMV06VMPVQVV" accepted.
2023-11-08 14:21:41.775 +05:30 [DBG] Connection id "0HMV06VMPVQVV" started.
2023-11-08 14:21:41.782 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:21:41.782 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:21:41.804 +05:30 [DBG] Connection id "0HMV06VMPVQVU" stopped.
2023-11-08 14:21:41.804 +05:30 [DBG] Connection id "0HMV06VMPVQVV" stopped.
2023-11-08 14:21:41.806 +05:30 [DBG] Connection id "0HMV06VMPVQVU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:21:41.808 +05:30 [DBG] Connection id "0HMV06VMPVQVV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:21:41.930 +05:30 [DBG] Connection id "0HMV06VMPVR00" accepted.
2023-11-08 14:21:41.932 +05:30 [DBG] Connection id "0HMV06VMPVR00" started.
2023-11-08 14:21:41.955 +05:30 [DBG] Connection 0HMV06VMPVR00 established using the following protocol: "Tls13"
2023-11-08 14:21:41.984 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 14:21:42.002 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 14:21:42.167 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 14:21:42.262 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 14:21:42.266 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 284.9171ms
2023-11-08 14:21:42.272 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 14:21:42.277 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 14:21:42.277 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.8911ms
2023-11-08 14:21:42.287 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.5430ms
2023-11-08 14:21:42.329 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 14:21:42.408 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - CityInfo.API.Controllers.NewAuthenticationController+AuthenticationRequestBody. See inner exception
 ---> System.InvalidOperationException: Can't use schemaId "$AuthenticationRequestBody" for type "$CityInfo.API.Controllers.NewAuthenticationController+AuthenticationRequestBody". The same schemaId is already used for type "$CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody"
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaRepository.RegisterType(Type type, String schemaId)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateReferencedSchema(DataContract dataContract, SchemaRepository schemaRepository, Func`1 definitionFactory)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateConcreteSchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBody(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-08 14:21:42.417 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 88.5005ms
2023-11-08 14:24:06.639 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 14:24:06.739 +05:30 [DBG] Hosting starting
2023-11-08 14:24:06.766 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 14:24:06.769 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 14:24:06.803 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 14:24:06.813 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 14:24:06.817 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:24:06.820 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 14:24:06.821 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:24:06.825 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 14:24:06.827 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 14:24:06.830 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 14:24:06.832 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 14:24:06.945 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 14:24:07.015 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 14:24:07.017 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 14:24:07.019 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 14:24:07.020 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 14:24:07.022 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 14:24:07.023 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 14:24:07.023 +05:30 [INF] Hosting environment: Development
2023-11-08 14:24:07.024 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 14:24:07.024 +05:30 [DBG] Hosting started
2023-11-08 14:24:07.186 +05:30 [DBG] Connection id "0HMV07124TIJF" received FIN.
2023-11-08 14:24:07.195 +05:30 [DBG] Connection id "0HMV07124TIJF" accepted.
2023-11-08 14:24:07.198 +05:30 [DBG] Connection id "0HMV07124TIJF" started.
2023-11-08 14:24:07.209 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:24:07.236 +05:30 [DBG] Connection id "0HMV07124TIJF" stopped.
2023-11-08 14:24:07.241 +05:30 [DBG] Connection id "0HMV07124TIJF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:24:07.407 +05:30 [DBG] Connection id "0HMV07124TIJG" accepted.
2023-11-08 14:24:07.409 +05:30 [DBG] Connection id "0HMV07124TIJG" started.
2023-11-08 14:24:07.431 +05:30 [DBG] Connection 0HMV07124TIJG established using the following protocol: "Tls13"
2023-11-08 14:24:07.460 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 14:24:07.481 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 14:24:07.629 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 14:24:07.731 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 14:24:07.738 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 279.7723ms
2023-11-08 14:24:07.740 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 14:24:07.743 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.9136ms
2023-11-08 14:24:07.745 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 14:24:07.763 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.2413ms
2023-11-08 14:24:07.795 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 14:24:07.910 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.8708ms
2023-11-08 14:24:25.372 +05:30 [DBG] Connection id "0HMV07124TIJH" received FIN.
2023-11-08 14:24:25.377 +05:30 [DBG] Connection id "0HMV07124TIJH" accepted.
2023-11-08 14:24:25.379 +05:30 [DBG] Connection id "0HMV07124TIJH" started.
2023-11-08 14:24:25.388 +05:30 [DBG] Connection id "0HMV07124TIJI" accepted.
2023-11-08 14:24:25.389 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:24:25.390 +05:30 [DBG] Connection id "0HMV07124TIJI" started.
2023-11-08 14:24:25.393 +05:30 [DBG] Connection id "0HMV07124TIJH" stopped.
2023-11-08 14:24:25.397 +05:30 [DBG] Connection id "0HMV07124TIJH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:24:25.404 +05:30 [DBG] Connection 0HMV07124TIJI established using the following protocol: "Tls13"
2023-11-08 14:24:25.414 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 159
2023-11-08 14:24:25.418 +05:30 [DBG] POST requests are not supported
2023-11-08 14:24:25.454 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2023-11-08 14:24:25.466 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2023-11-08 14:24:25.475 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 14:24:25.561 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 14:24:25.567 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 14:24:25.607 +05:30 [INF] Route matched with {action = "UserSignup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserSignup(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2023-11-08 14:24:25.612 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 14:24:25.613 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 14:24:25.615 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:24:25.617 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 14:24:25.618 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:24:25.620 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 14:24:25.973 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 14:24:26.008 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2023-11-08 14:24:26.014 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 14:24:26.020 +05:30 [DBG] Attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2023-11-08 14:24:26.025 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 14:24:26.028 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 14:24:26.040 +05:30 [DBG] Connection id "0HMV07124TIJI", Request id "0HMV07124TIJI:00000002": started reading request body.
2023-11-08 14:24:26.043 +05:30 [DBG] Connection id "0HMV07124TIJI", Request id "0HMV07124TIJI:00000002": done reading request body.
2023-11-08 14:24:26.194 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 14:24:26.197 +05:30 [DBG] Done attempting to bind parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 14:24:26.199 +05:30 [DBG] Attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto' ...
2023-11-08 14:24:26.211 +05:30 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'CityInfo.API.Models.UserDto'.
2023-11-08 14:24:26.344 +05:30 [INF] Executing action method CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) - Validation state: "Valid"
2023-11-08 14:24:27.559 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 14:24:27.624 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __email_0)'
2023-11-08 14:24:27.959 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 14:24:28.035 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 14:24:28.042 +05:30 [DBG] Creating DbConnection.
2023-11-08 14:24:28.088 +05:30 [DBG] Created DbConnection. (34ms).
2023-11-08 14:24:28.110 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2023-11-08 14:24:28.122 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (87ms).
2023-11-08 14:24:28.152 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:24:28.182 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:24:28.209 +05:30 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0)
2023-11-08 14:24:28.248 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__email_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Email" = @__email_0)
2023-11-08 14:24:28.269 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:24:28.283 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 19ms reading results.
2023-11-08 14:24:28.295 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:24:28.304 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2023-11-08 14:24:28.308 +05:30 [INF] User Already exists? False
2023-11-08 14:24:28.572 +05:30 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 14:24:28.629 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 14:24:28.648 +05:30 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-08 14:24:28.656 +05:30 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-08 14:24:28.674 +05:30 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-08 14:24:28.770 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:24:28.778 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:24:28.785 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 14:24:28.788 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-08 14:24:28.795 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2023-11-08 14:24:28.798 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 5), @p1='?' (Size = 20), @p2='?' (Size = 60), @p3='?' (Size = 6), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("City", "Email", "EncryptedPassword", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2023-11-08 14:24:28.802 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 5), @p1='?' (Size = 20), @p2='?' (Size = 60), @p3='?' (Size = 6), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("City", "Email", "EncryptedPassword", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2023-11-08 14:24:28.829 +05:30 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-08 14:24:28.847 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:24:28.855 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 45ms reading results.
2023-11-08 14:24:28.858 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:24:28.861 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-11-08 14:24:28.877 +05:30 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 14:24:28.885 +05:30 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-08 14:24:28.894 +05:30 [INF] Executed action method CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2543.0557ms.
2023-11-08 14:24:28.901 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 14:24:28.910 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 14:24:28.912 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 14:24:28.913 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 14:24:28.916 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 14:24:28.920 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 14:24:28.934 +05:30 [INF] Executed action CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API) in 3308.8013ms
2023-11-08 14:24:28.937 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.UserSignup (CityInfo.API)'
2023-11-08 14:24:28.940 +05:30 [DBG] Connection id "0HMV07124TIJI" completed keep alive response.
2023-11-08 14:24:28.947 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 14:24:28.959 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:24:28.965 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2023-11-08 14:24:28.970 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/v1/users/signup application/json 159 - 200 - text/plain;+charset=utf-8 3555.5741ms
2023-11-08 14:25:01.877 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7020/api/new_authentication/authenticate application/json-patch+json 66
2023-11-08 14:25:01.879 +05:30 [DBG] POST requests are not supported
2023-11-08 14:25:01.881 +05:30 [DBG] 1 candidate(s) found for the request path '/api/new_authentication/authenticate'
2023-11-08 14:25:01.884 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/new_authentication/authenticate' is valid for the request path '/api/new_authentication/authenticate'
2023-11-08 14:25:01.892 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:25:01.898 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 14:25:01.913 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:25:01.918 +05:30 [INF] Route matched with {action = "Authenticate", controller = "NewAuthentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(NewAuthenticationRequestBody) on controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API).
2023-11-08 14:25:01.922 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 14:25:01.926 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 14:25:01.930 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:25:01.937 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 14:25:01.940 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:25:01.945 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 14:25:01.949 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 14:25:01.953 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 14:25:01.956 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' using the name '' in request data ...
2023-11-08 14:25:01.958 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-11-08 14:25:01.960 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-11-08 14:25:01.963 +05:30 [DBG] Connection id "0HMV07124TIJG", Request id "0HMV07124TIJG:00000009": started reading request body.
2023-11-08 14:25:01.964 +05:30 [DBG] Connection id "0HMV07124TIJG", Request id "0HMV07124TIJG:00000009": done reading request body.
2023-11-08 14:25:01.969 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:25:01.972 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:25:01.974 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 14:25:01.978 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:25:01.995 +05:30 [INF] Executing action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-11-08 14:25:02.014 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 14:25:02.027 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Email == __userName_0)
    .FirstOrDefault()'
2023-11-08 14:25:02.087 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.City (string) Required MaxLength(50), 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.EncryptedPassword (string) Required, 3], [Property: User.FirstName (string) Required MaxLength(50), 4], [Property: User.LastName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.City, u.Email, u.EncryptedPassword, u.FirstName, u.LastName
            FROM Users AS u
            WHERE u.Email == @__userName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 14:25:02.100 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 14:25:02.105 +05:30 [DBG] Creating DbConnection.
2023-11-08 14:25:02.107 +05:30 [DBG] Created DbConnection. (1ms).
2023-11-08 14:25:02.112 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2023-11-08 14:25:02.115 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2023-11-08 14:25:02.117 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:25:02.118 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:25:02.121 +05:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 14:25:02.123 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 14:25:02.131 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 14:25:02.134 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:25:02.136 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 9ms reading results.
2023-11-08 14:25:02.137 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:25:02.140 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-11-08 14:26:19.325 +05:30 [INF] Executed action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 77325.7095ms.
2023-11-08 14:26:19.330 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 14:26:19.338 +05:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-08 14:26:19.342 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 14:26:19.345 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 14:26:19.348 +05:30 [INF] Executed action CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) in 77403.4353ms
2023-11-08 14:26:19.351 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:26:19.360 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 14:26:19.362 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:26:19.364 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-11-08 14:26:19.367 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7020/api/new_authentication/authenticate application/json-patch+json 66 - 200 - text/plain;+charset=utf-8 77489.5094ms
2023-11-08 14:26:20.264 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 14:26:20.273 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 14:26:20.290 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 14:26:20.291 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 27.8446ms
2023-11-08 14:26:20.308 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 14:26:20.309 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 14:26:20.311 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.0348ms
2023-11-08 14:26:20.317 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 8.9284ms
2023-11-08 14:26:20.361 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 14:26:20.374 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/favicon-32x32.png - -
2023-11-08 14:26:20.382 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 21.2764ms
2023-11-08 14:26:20.382 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-08 14:26:20.388 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/favicon-32x32.png - - - 200 628 image/png 14.3488ms
2023-11-08 14:26:33.446 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 14:26:33.540 +05:30 [DBG] Hosting starting
2023-11-08 14:26:33.563 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 14:26:33.567 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 14:26:33.574 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 14:26:33.583 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 14:26:33.585 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:26:33.589 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 14:26:33.590 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 14:26:33.595 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 14:26:33.597 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 14:26:33.600 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 14:26:33.601 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 14:26:33.694 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 14:26:33.759 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 14:26:33.760 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 14:26:33.761 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 14:26:33.762 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 14:26:33.763 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 14:26:33.764 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 14:26:33.765 +05:30 [INF] Hosting environment: Development
2023-11-08 14:26:33.766 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 14:26:33.767 +05:30 [DBG] Hosting started
2023-11-08 14:26:34.189 +05:30 [DBG] Connection id "0HMV072DUQPQN" accepted.
2023-11-08 14:26:34.189 +05:30 [DBG] Connection id "0HMV072DUQPQM" accepted.
2023-11-08 14:26:34.192 +05:30 [DBG] Connection id "0HMV072DUQPQN" started.
2023-11-08 14:26:34.192 +05:30 [DBG] Connection id "0HMV072DUQPQM" started.
2023-11-08 14:26:34.200 +05:30 [DBG] Connection id "0HMV072DUQPQN" received FIN.
2023-11-08 14:26:34.200 +05:30 [DBG] Connection id "0HMV072DUQPQM" received FIN.
2023-11-08 14:26:34.207 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:26:34.207 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 14:26:34.230 +05:30 [DBG] Connection id "0HMV072DUQPQM" stopped.
2023-11-08 14:26:34.230 +05:30 [DBG] Connection id "0HMV072DUQPQN" stopped.
2023-11-08 14:26:34.233 +05:30 [DBG] Connection id "0HMV072DUQPQN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:26:34.233 +05:30 [DBG] Connection id "0HMV072DUQPQM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 14:26:34.337 +05:30 [DBG] Connection id "0HMV072DUQPQO" accepted.
2023-11-08 14:26:34.338 +05:30 [DBG] Connection id "0HMV072DUQPQO" started.
2023-11-08 14:26:34.360 +05:30 [DBG] Connection 0HMV072DUQPQO established using the following protocol: "Tls13"
2023-11-08 14:26:34.389 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 14:26:34.410 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 14:26:34.556 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 14:26:34.645 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 14:26:34.651 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 264.0558ms
2023-11-08 14:26:34.652 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 14:26:34.656 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.7820ms
2023-11-08 14:26:34.660 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 14:26:34.671 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.5802ms
2023-11-08 14:26:34.710 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 14:26:34.826 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.4640ms
2023-11-08 14:27:14.920 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7020/api/new_authentication/authenticate application/json-patch+json 66
2023-11-08 14:27:14.956 +05:30 [DBG] POST requests are not supported
2023-11-08 14:27:14.988 +05:30 [DBG] 1 candidate(s) found for the request path '/api/new_authentication/authenticate'
2023-11-08 14:27:14.996 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/new_authentication/authenticate' is valid for the request path '/api/new_authentication/authenticate'
2023-11-08 14:27:15.014 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:27:15.084 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 14:27:15.091 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:27:15.121 +05:30 [INF] Route matched with {action = "Authenticate", controller = "NewAuthentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(NewAuthenticationRequestBody) on controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API).
2023-11-08 14:27:15.126 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 14:27:15.129 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 14:27:15.131 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:27:15.133 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 14:27:15.134 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:27:15.136 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 14:27:15.293 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 14:27:15.326 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 14:27:15.338 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 14:27:15.345 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' using the name '' in request data ...
2023-11-08 14:27:15.353 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-11-08 14:27:15.356 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-11-08 14:27:15.374 +05:30 [DBG] Connection id "0HMV072DUQPQO", Request id "0HMV072DUQPQO:00000009": started reading request body.
2023-11-08 14:27:15.380 +05:30 [DBG] Connection id "0HMV072DUQPQO", Request id "0HMV072DUQPQO:00000009": done reading request body.
2023-11-08 14:27:15.529 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:27:15.533 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:27:15.537 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 14:27:15.545 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:27:15.620 +05:30 [INF] Executing action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-11-08 14:27:16.766 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 14:27:16.847 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Email == __userName_0)
    .FirstOrDefault()'
2023-11-08 14:27:17.232 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.City (string) Required MaxLength(50), 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.EncryptedPassword (string) Required, 3], [Property: User.FirstName (string) Required MaxLength(50), 4], [Property: User.LastName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.City, u.Email, u.EncryptedPassword, u.FirstName, u.LastName
            FROM Users AS u
            WHERE u.Email == @__userName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 14:27:17.298 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 14:27:17.304 +05:30 [DBG] Creating DbConnection.
2023-11-08 14:27:17.332 +05:30 [DBG] Created DbConnection. (23ms).
2023-11-08 14:27:17.348 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2023-11-08 14:27:17.357 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (59ms).
2023-11-08 14:27:17.373 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:27:17.395 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:27:17.416 +05:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 14:27:17.449 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 14:27:17.485 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 14:27:17.522 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:27:17.538 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 72ms reading results.
2023-11-08 14:27:17.553 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:27:17.566 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (12ms).
2023-11-08 14:27:22.941 +05:30 [INF] Executed action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7312.0785ms.
2023-11-08 14:27:22.950 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 14:27:22.959 +05:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-08 14:27:22.963 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 14:27:22.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 14:27:22.977 +05:30 [INF] Executed action CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) in 7834.6691ms
2023-11-08 14:27:22.981 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:27:22.988 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 14:27:23.000 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:27:23.009 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (8ms).
2023-11-08 14:27:23.013 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7020/api/new_authentication/authenticate application/json-patch+json 66 - 200 - text/plain;+charset=utf-8 8093.0773ms
2023-11-08 14:27:47.133 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7020/api/new_authentication/authenticate application/json-patch+json 66
2023-11-08 14:27:47.150 +05:30 [DBG] POST requests are not supported
2023-11-08 14:27:47.153 +05:30 [DBG] 1 candidate(s) found for the request path '/api/new_authentication/authenticate'
2023-11-08 14:27:47.154 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/new_authentication/authenticate' is valid for the request path '/api/new_authentication/authenticate'
2023-11-08 14:27:47.156 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:27:47.222 +05:30 [DBG] Successfully validated the token.
2023-11-08 14:27:47.225 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 14:27:47.229 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:27:47.231 +05:30 [INF] Route matched with {action = "Authenticate", controller = "NewAuthentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(NewAuthenticationRequestBody) on controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API).
2023-11-08 14:27:47.235 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 14:27:47.238 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 14:27:47.241 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:27:47.245 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 14:27:47.251 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:27:47.254 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 14:27:47.257 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 14:27:47.260 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 14:27:47.265 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' using the name '' in request data ...
2023-11-08 14:27:47.269 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-11-08 14:27:47.273 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-11-08 14:27:47.276 +05:30 [DBG] Connection id "0HMV072DUQPQO", Request id "0HMV072DUQPQO:0000000B": started reading request body.
2023-11-08 14:27:47.278 +05:30 [DBG] Connection id "0HMV072DUQPQO", Request id "0HMV072DUQPQO:0000000B": done reading request body.
2023-11-08 14:27:47.280 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:27:47.282 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:27:47.284 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 14:27:47.286 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 14:27:47.303 +05:30 [INF] Executing action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-11-08 14:27:47.320 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 14:27:47.335 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 14:27:47.337 +05:30 [DBG] Creating DbConnection.
2023-11-08 14:27:47.339 +05:30 [DBG] Created DbConnection. (1ms).
2023-11-08 14:27:47.341 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-11-08 14:27:47.344 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2023-11-08 14:27:47.346 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:27:47.349 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:27:47.351 +05:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 14:27:47.355 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 14:27:47.360 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 14:27:47.364 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:27:47.367 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2023-11-08 14:27:47.369 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:27:47.371 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 14:29:55.983 +05:30 [INF] Executed action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 128675.9735ms.
2023-11-08 14:29:56.018 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 14:29:56.024 +05:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-08 14:29:56.027 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 14:29:56.029 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 14:29:56.032 +05:30 [INF] Executed action CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) in 128778.0858ms
2023-11-08 14:29:56.035 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 14:29:56.047 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 14:29:56.050 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:29:56.053 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2023-11-08 14:29:56.056 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7020/api/new_authentication/authenticate application/json-patch+json 66 - 200 - text/plain;+charset=utf-8 128922.9517ms
2023-11-08 14:30:12.164 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/api/v1/cities/1?includePointsOfInterest=false - -
2023-11-08 14:30:12.166 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 14:30:12.168 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1'
2023-11-08 14:30:12.173 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{id}' is valid for the request path '/api/v1/cities/1'
2023-11-08 14:30:12.177 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-08 14:30:12.180 +05:30 [DBG] Successfully validated the token.
2023-11-08 14:30:12.182 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 14:30:12.189 +05:30 [DBG] Authorization was successful.
2023-11-08 14:30:12.192 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-08 14:30:12.198 +05:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-08 14:30:12.202 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 14:30:12.205 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 14:30:12.208 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:30:12.211 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 14:30:12.212 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 14:30:12.214 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-08 14:30:12.371 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-08 14:30:12.378 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-11-08 14:30:12.382 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-11-08 14:30:12.386 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-08 14:30:12.391 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-08 14:30:12.393 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-11-08 14:30:12.395 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-11-08 14:30:12.398 +05:30 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-08 14:30:12.402 +05:30 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-11-08 14:30:12.406 +05:30 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-08 14:30:12.409 +05:30 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-08 14:30:12.410 +05:30 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-08 14:30:12.411 +05:30 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-08 14:30:12.430 +05:30 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-11-08 14:52:05.045 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 14:52:05.055 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-08 14:52:05.065 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 14:52:05.072 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 14:52:05.075 +05:30 [DBG] Creating DbConnection.
2023-11-08 14:52:05.077 +05:30 [DBG] Created DbConnection. (2ms).
2023-11-08 14:52:05.079 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-11-08 14:52:05.081 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2023-11-08 14:52:05.083 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:52:05.087 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:52:05.090 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-08 14:52:05.104 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-08 14:52:05.111 +05:30 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 14:52:05.118 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:52:05.121 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2023-11-08 14:52:05.127 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 14:52:05.130 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-11-08 14:52:05.143 +05:30 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1312710.0532ms.
2023-11-08 14:52:05.147 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 14:52:05.151 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 14:52:05.152 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 14:52:05.153 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 14:52:05.156 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-08 14:52:05.159 +05:30 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-11-08 14:52:05.206 +05:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1312992.2195ms
2023-11-08 14:52:05.213 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-08 14:52:05.215 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 14:52:05.217 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 14:52:05.219 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 14:52:05.220 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/api/v1/cities/1?includePointsOfInterest=false - - - 200 75 application/json;+charset=utf-8 1313055.7853ms
2023-11-08 14:52:22.906 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/api/v1/cities/1/pointsofinterest - -
2023-11-08 14:52:22.907 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 14:52:22.909 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1/pointsofinterest'
2023-11-08 14:52:22.911 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v1/cities/1/pointsofinterest'
2023-11-08 14:52:22.921 +05:30 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)
2023-11-08 14:52:22.924 +05:30 [DBG] Request matched endpoint 'null'
2023-11-08 14:52:22.933 +05:30 [DBG] Successfully validated the token.
2023-11-08 14:52:22.936 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 14:52:22.938 +05:30 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-11-08 14:52:22.945 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 14:52:22.950 +05:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-08 14:52:22.955 +05:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-11-08 14:52:22.965 +05:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-08 14:52:22.968 +05:30 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-11-08 14:52:22.973 +05:30 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-11-08 14:52:22.977 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/api/v1/cities/1/pointsofinterest - - - 406 0 - 70.8573ms
2023-11-08 14:52:31.516 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 14:52:31.520 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 14:52:31.524 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 14:52:31.526 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 14:52:31.529 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 14:52:31.531 +05:30 [DBG] Successfully validated the token.
2023-11-08 14:52:31.532 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 14:52:31.535 +05:30 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2023-11-08 14:52:31.539 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-08 14:52:31.544 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 403 0 - 27.6224ms
2023-11-08 15:53:14.432 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 15:53:14.615 +05:30 [DBG] Hosting starting
2023-11-08 15:53:14.649 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 15:53:14.658 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 15:53:14.698 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 15:53:14.712 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 15:53:14.717 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 15:53:14.722 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 15:53:14.724 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 15:53:14.733 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 15:53:14.738 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 15:53:14.744 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 15:53:14.748 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 15:53:14.923 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 15:53:15.042 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 15:53:15.044 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 15:53:15.046 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 15:53:15.048 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 15:53:15.051 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 15:53:15.053 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 15:53:15.055 +05:30 [INF] Hosting environment: Development
2023-11-08 15:53:15.058 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 15:53:15.060 +05:30 [DBG] Hosting started
2023-11-08 15:53:15.281 +05:30 [DBG] Connection id "0HMV08IS0AILI" received FIN.
2023-11-08 15:53:15.293 +05:30 [DBG] Connection id "0HMV08IS0AILI" accepted.
2023-11-08 15:53:15.297 +05:30 [DBG] Connection id "0HMV08IS0AILI" started.
2023-11-08 15:53:15.312 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 15:53:15.348 +05:30 [DBG] Connection id "0HMV08IS0AILI" stopped.
2023-11-08 15:53:15.352 +05:30 [DBG] Connection id "0HMV08IS0AILI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 15:53:15.485 +05:30 [DBG] Connection id "0HMV08IS0AILJ" accepted.
2023-11-08 15:53:15.488 +05:30 [DBG] Connection id "0HMV08IS0AILJ" started.
2023-11-08 15:53:15.541 +05:30 [DBG] Connection 0HMV08IS0AILJ established using the following protocol: "Tls13"
2023-11-08 15:53:15.603 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 15:53:15.673 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 15:53:15.916 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 15:53:16.089 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 15:53:16.095 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 501.2937ms
2023-11-08 15:53:16.096 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 15:53:16.103 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 15:53:16.103 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.0272ms
2023-11-08 15:53:16.126 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.0494ms
2023-11-08 15:53:16.162 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 15:53:16.362 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.7137ms
2023-11-08 15:54:33.950 +05:30 [DBG] Connection id "0HMV08IS0AILK" received FIN.
2023-11-08 15:54:33.955 +05:30 [DBG] Connection id "0HMV08IS0AILK" accepted.
2023-11-08 15:54:33.975 +05:30 [DBG] Connection id "0HMV08IS0AILK" started.
2023-11-08 15:54:33.976 +05:30 [DBG] Connection id "0HMV08IS0AILL" accepted.
2023-11-08 15:54:33.979 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 15:54:33.980 +05:30 [DBG] Connection id "0HMV08IS0AILL" started.
2023-11-08 15:54:33.985 +05:30 [DBG] Connection id "0HMV08IS0AILK" stopped.
2023-11-08 15:54:33.991 +05:30 [DBG] Connection id "0HMV08IS0AILK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 15:54:34.027 +05:30 [DBG] Connection 0HMV08IS0AILL established using the following protocol: "Tls13"
2023-11-08 15:54:34.042 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/v1/new_authentication/authenticate application/json 73
2023-11-08 15:54:34.048 +05:30 [DBG] POST requests are not supported
2023-11-08 15:54:34.075 +05:30 [DBG] No candidates found for the request path '/api/v1/new_authentication/authenticate'
2023-11-08 15:54:34.078 +05:30 [DBG] Request did not match any endpoints
2023-11-08 15:54:34.159 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 15:54:34.164 +05:30 [DBG] Connection id "0HMV08IS0AILL" completed keep alive response.
2023-11-08 15:54:34.166 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/v1/new_authentication/authenticate application/json 73 - 404 0 - 123.1565ms
2023-11-08 15:54:34.167 +05:30 [DBG] Connection id "0HMV08IS0AILL", Request id "0HMV08IS0AILL:00000002": started reading request body.
2023-11-08 15:54:34.168 +05:30 [DBG] Connection id "0HMV08IS0AILL", Request id "0HMV08IS0AILL:00000002": done reading request body.
2023-11-08 15:54:42.830 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73
2023-11-08 15:54:42.833 +05:30 [DBG] POST requests are not supported
2023-11-08 15:54:42.841 +05:30 [DBG] 1 candidate(s) found for the request path '/api/new_authentication/authenticate'
2023-11-08 15:54:42.851 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/new_authentication/authenticate' is valid for the request path '/api/new_authentication/authenticate'
2023-11-08 15:54:42.870 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 15:54:42.874 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 15:54:42.884 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 15:54:42.913 +05:30 [INF] Route matched with {action = "Authenticate", controller = "NewAuthentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(NewAuthenticationRequestBody) on controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API).
2023-11-08 15:54:42.917 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 15:54:42.918 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 15:54:42.920 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 15:54:42.922 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 15:54:42.924 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 15:54:42.926 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 15:54:43.063 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 15:54:43.094 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 15:54:43.105 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 15:54:43.114 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' using the name '' in request data ...
2023-11-08 15:54:43.119 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 15:54:43.123 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 15:54:43.136 +05:30 [DBG] Connection id "0HMV08IS0AILL", Request id "0HMV08IS0AILL:00000003": started reading request body.
2023-11-08 15:54:43.140 +05:30 [DBG] Connection id "0HMV08IS0AILL", Request id "0HMV08IS0AILL:00000003": done reading request body.
2023-11-08 15:54:43.312 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 15:54:43.314 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 15:54:43.316 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 15:54:43.324 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 15:54:43.403 +05:30 [INF] Executing action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-11-08 15:54:44.735 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 15:54:44.823 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Email == __userName_0)
    .FirstOrDefault()'
2023-11-08 15:54:45.188 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.City (string) Required MaxLength(50), 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.EncryptedPassword (string) Required, 3], [Property: User.FirstName (string) Required MaxLength(50), 4], [Property: User.LastName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.City, u.Email, u.EncryptedPassword, u.FirstName, u.LastName
            FROM Users AS u
            WHERE u.Email == @__userName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 15:54:45.259 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 15:54:45.266 +05:30 [DBG] Creating DbConnection.
2023-11-08 15:54:45.290 +05:30 [DBG] Created DbConnection. (18ms).
2023-11-08 15:54:45.304 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2023-11-08 15:54:45.313 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (55ms).
2023-11-08 15:54:45.328 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 15:54:45.351 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 15:54:45.374 +05:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 15:54:45.418 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 15:54:45.472 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 15:54:45.510 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 15:54:45.524 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 87ms reading results.
2023-11-08 15:54:45.538 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 15:54:45.555 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (15ms).
2023-11-08 15:55:04.305 +05:30 [INF] Executed action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20892.4736ms.
2023-11-08 15:55:04.314 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 15:55:04.324 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 15:55:04.326 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 15:55:04.329 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 15:55:04.332 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 15:55:04.335 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 15:55:04.356 +05:30 [INF] Executed action CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) in 21419.8329ms
2023-11-08 15:55:04.361 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 15:55:04.364 +05:30 [DBG] Connection id "0HMV08IS0AILL" completed keep alive response.
2023-11-08 15:55:04.376 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 15:55:04.398 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 15:55:04.407 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (8ms).
2023-11-08 15:55:04.411 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73 - 200 - text/plain;+charset=utf-8 21581.6818ms
2023-11-08 15:55:27.596 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/cities/1/pointsofinterest - -
2023-11-08 15:55:27.599 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 15:55:27.603 +05:30 [DBG] No candidates found for the request path '/api/cities/1/pointsofinterest'
2023-11-08 15:55:27.607 +05:30 [DBG] Request did not match any endpoints
2023-11-08 15:55:27.614 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 15:55:27.616 +05:30 [DBG] Connection id "0HMV08IS0AILL" completed keep alive response.
2023-11-08 15:55:27.619 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/cities/1/pointsofinterest - - - 404 0 - 23.1092ms
2023-11-08 15:55:31.453 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v1/cities/1/pointsofinterest - -
2023-11-08 15:55:31.465 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 15:55:31.467 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1/pointsofinterest'
2023-11-08 15:55:31.472 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v1/cities/1/pointsofinterest'
2023-11-08 15:55:31.483 +05:30 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)
2023-11-08 15:55:31.489 +05:30 [DBG] Request matched endpoint 'null'
2023-11-08 15:55:31.492 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 15:55:31.494 +05:30 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-11-08 15:55:31.498 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 15:55:31.500 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 15:55:31.500 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 15:55:31.501 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 15:55:31.502 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-08 15:55:31.503 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-11-08 15:55:31.552 +05:30 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-11-08 15:55:31.554 +05:30 [DBG] Connection id "0HMV08IS0AILL" completed keep alive response.
2023-11-08 15:55:31.555 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v1/cities/1/pointsofinterest - - - 400 215 application/json;+charset=utf-8 101.7235ms
2023-11-08 15:55:38.006 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 15:55:38.008 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 15:55:38.010 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:55:38.011 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:55:38.013 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 15:55:38.014 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 15:55:38.021 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2023-11-08 15:55:38.034 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-08 15:55:38.038 +05:30 [DBG] Connection id "0HMV08IS0AILL" completed keep alive response.
2023-11-08 15:55:38.040 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 401 0 - 33.8761ms
2023-11-08 15:55:51.208 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 15:55:51.212 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 15:55:51.214 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:55:51.216 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:55:51.219 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 15:55:51.287 +05:30 [DBG] Successfully validated the token.
2023-11-08 15:55:51.293 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 15:55:51.296 +05:30 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2023-11-08 15:55:51.300 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-08 15:55:51.303 +05:30 [DBG] Connection id "0HMV08IS0AILL" completed keep alive response.
2023-11-08 15:55:51.305 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 403 0 - 97.1632ms
2023-11-08 15:56:13.771 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 15:56:13.779 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 15:56:13.780 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:56:13.782 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:56:13.784 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 15:56:13.785 +05:30 [DBG] Successfully validated the token.
2023-11-08 15:56:13.786 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 15:56:13.788 +05:30 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2023-11-08 15:56:13.789 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-08 15:56:13.790 +05:30 [DBG] Connection id "0HMV08IS0AILL" completed keep alive response.
2023-11-08 15:56:13.793 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 403 0 - 21.6746ms
2023-11-08 15:56:14.653 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 15:56:14.655 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 15:56:14.656 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:56:14.657 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:56:14.659 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 15:56:14.660 +05:30 [DBG] Successfully validated the token.
2023-11-08 15:56:14.661 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 15:56:14.662 +05:30 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2023-11-08 15:56:14.663 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-08 15:56:14.665 +05:30 [DBG] Connection id "0HMV08IS0AILL" completed keep alive response.
2023-11-08 15:56:14.667 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 403 0 - 14.3633ms
2023-11-08 15:57:35.492 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 15:57:35.593 +05:30 [DBG] Hosting starting
2023-11-08 15:57:35.620 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 15:57:35.624 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 15:57:35.638 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 15:57:35.646 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 15:57:35.650 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 15:57:35.654 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 15:57:35.656 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 15:57:35.661 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 15:57:35.665 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 15:57:35.668 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 15:57:35.670 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 15:57:35.787 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 15:57:35.825 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 15:57:35.832 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 15:57:35.834 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 15:57:35.835 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 15:57:35.836 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 15:57:35.837 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 15:57:35.838 +05:30 [INF] Hosting environment: Development
2023-11-08 15:57:35.839 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 15:57:35.840 +05:30 [DBG] Hosting started
2023-11-08 15:57:36.033 +05:30 [DBG] Connection id "0HMV08L9N1QR9" received FIN.
2023-11-08 15:57:36.043 +05:30 [DBG] Connection id "0HMV08L9N1QR9" accepted.
2023-11-08 15:57:36.046 +05:30 [DBG] Connection id "0HMV08L9N1QR9" started.
2023-11-08 15:57:36.056 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 15:57:36.077 +05:30 [DBG] Connection id "0HMV08L9N1QR9" stopped.
2023-11-08 15:57:36.081 +05:30 [DBG] Connection id "0HMV08L9N1QR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 15:57:36.275 +05:30 [DBG] Connection id "0HMV08L9N1QRA" accepted.
2023-11-08 15:57:36.276 +05:30 [DBG] Connection id "0HMV08L9N1QRA" started.
2023-11-08 15:57:36.298 +05:30 [DBG] Connection 0HMV08L9N1QRA established using the following protocol: "Tls13"
2023-11-08 15:57:36.326 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 15:57:36.344 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 15:57:36.493 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 15:57:36.642 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 15:57:36.649 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 324.9365ms
2023-11-08 15:57:36.657 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 15:57:36.658 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 15:57:36.664 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.6227ms
2023-11-08 15:57:36.680 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.7865ms
2023-11-08 15:57:36.713 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 15:57:36.920 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 207.4619ms
2023-11-08 15:57:40.432 +05:30 [DBG] Connection id "0HMV08L9N1QRB" accepted.
2023-11-08 15:57:40.432 +05:30 [DBG] Connection id "0HMV08L9N1QRB" received FIN.
2023-11-08 15:57:40.435 +05:30 [DBG] Connection id "0HMV08L9N1QRB" started.
2023-11-08 15:57:40.435 +05:30 [DBG] Connection id "0HMV08L9N1QRC" accepted.
2023-11-08 15:57:40.440 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 15:57:40.441 +05:30 [DBG] Connection id "0HMV08L9N1QRC" started.
2023-11-08 15:57:40.444 +05:30 [DBG] Connection id "0HMV08L9N1QRB" stopped.
2023-11-08 15:57:40.447 +05:30 [DBG] Connection id "0HMV08L9N1QRB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 15:57:40.457 +05:30 [DBG] Connection 0HMV08L9N1QRC established using the following protocol: "Tls13"
2023-11-08 15:57:40.471 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 15:57:40.476 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 15:57:40.507 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:57:40.519 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 15:57:40.528 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 15:57:40.716 +05:30 [DBG] Successfully validated the token.
2023-11-08 15:57:40.719 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 15:57:40.727 +05:30 [DBG] Authorization was successful.
2023-11-08 15:57:40.731 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 15:57:40.769 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 15:57:40.774 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 15:57:40.777 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 15:57:40.779 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 15:57:40.784 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 15:57:40.786 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 15:57:40.788 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 15:57:40.967 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 15:57:41.182 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 15:57:41.189 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 15:57:41.193 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 15:57:41.195 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 15:57:41.198 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 15:57:41.199 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 15:57:41.202 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 15:57:41.262 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:13:43.971 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 20:13:44.087 +05:30 [DBG] Hosting starting
2023-11-08 20:13:44.110 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 20:13:44.114 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 20:13:44.128 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 20:13:44.137 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 20:13:44.140 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 20:13:44.144 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 20:13:44.145 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 20:13:44.151 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 20:13:44.154 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 20:13:44.157 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 20:13:44.159 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 20:13:44.248 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 20:13:44.281 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 20:13:44.282 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 20:13:44.283 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 20:13:44.285 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 20:13:44.286 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 20:13:44.287 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 20:13:44.288 +05:30 [INF] Hosting environment: Development
2023-11-08 20:13:44.289 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 20:13:44.290 +05:30 [DBG] Hosting started
2023-11-08 20:13:44.462 +05:30 [DBG] Connection id "0HMV0D4DRQ5IK" received FIN.
2023-11-08 20:13:44.471 +05:30 [DBG] Connection id "0HMV0D4DRQ5IK" accepted.
2023-11-08 20:13:44.474 +05:30 [DBG] Connection id "0HMV0D4DRQ5IK" started.
2023-11-08 20:13:44.485 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 20:13:44.507 +05:30 [DBG] Connection id "0HMV0D4DRQ5IK" stopped.
2023-11-08 20:13:44.510 +05:30 [DBG] Connection id "0HMV0D4DRQ5IK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 20:13:44.649 +05:30 [DBG] Connection id "0HMV0D4DRQ5IL" accepted.
2023-11-08 20:13:44.651 +05:30 [DBG] Connection id "0HMV0D4DRQ5IL" started.
2023-11-08 20:13:44.682 +05:30 [DBG] Connection 0HMV0D4DRQ5IL established using the following protocol: "Tls13"
2023-11-08 20:13:44.710 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 20:13:44.731 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 20:13:44.885 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 20:13:45.001 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 20:13:45.006 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 20:13:45.007 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 298.8530ms
2023-11-08 20:13:45.010 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.8672ms
2023-11-08 20:13:45.014 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 20:13:45.031 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.4360ms
2023-11-08 20:13:45.073 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 20:13:45.192 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.5637ms
2023-11-08 20:14:32.425 +05:30 [DBG] Connection id "0HMV0D4DRQ5IM" received FIN.
2023-11-08 20:14:32.427 +05:30 [DBG] Connection id "0HMV0D4DRQ5IM" accepted.
2023-11-08 20:14:32.428 +05:30 [DBG] Connection id "0HMV0D4DRQ5IM" started.
2023-11-08 20:14:32.434 +05:30 [DBG] Connection id "0HMV0D4DRQ5IN" accepted.
2023-11-08 20:14:32.435 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 20:14:32.437 +05:30 [DBG] Connection id "0HMV0D4DRQ5IN" started.
2023-11-08 20:14:32.441 +05:30 [DBG] Connection id "0HMV0D4DRQ5IM" stopped.
2023-11-08 20:14:32.446 +05:30 [DBG] Connection id "0HMV0D4DRQ5IM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 20:14:32.465 +05:30 [DBG] Connection 0HMV0D4DRQ5IN established using the following protocol: "Tls13"
2023-11-08 20:14:32.482 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:14:32.485 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:14:32.516 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:14:32.530 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:14:32.540 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:14:32.700 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/8/2023 11:25:04 AM', Current time (UTC): '11/8/2023 2:44:32 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-08 20:14:32.709 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/8/2023 11:25:04 AM', Current time (UTC): '11/8/2023 2:44:32 PM'.
2023-11-08 20:14:32.717 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-08 20:14:32.728 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-08 20:14:32.730 +05:30 [DBG] Connection id "0HMV0D4DRQ5IN" completed keep alive response.
2023-11-08 20:14:32.731 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 401 0 - 249.1110ms
2023-11-08 20:14:42.786 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73
2023-11-08 20:14:42.791 +05:30 [DBG] POST requests are not supported
2023-11-08 20:14:42.795 +05:30 [DBG] 1 candidate(s) found for the request path '/api/new_authentication/authenticate'
2023-11-08 20:14:42.798 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/new_authentication/authenticate' is valid for the request path '/api/new_authentication/authenticate'
2023-11-08 20:14:42.809 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:14:42.813 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 20:14:42.816 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:14:42.851 +05:30 [INF] Route matched with {action = "Authenticate", controller = "NewAuthentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(NewAuthenticationRequestBody) on controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API).
2023-11-08 20:14:42.854 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:14:42.855 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:14:42.857 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:14:42.858 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:14:42.862 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:14:42.867 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 20:14:43.018 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 20:14:43.051 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 20:14:43.059 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 20:14:43.064 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' using the name '' in request data ...
2023-11-08 20:14:43.069 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 20:14:43.073 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 20:14:43.083 +05:30 [DBG] Connection id "0HMV0D4DRQ5IN", Request id "0HMV0D4DRQ5IN:00000003": started reading request body.
2023-11-08 20:14:43.086 +05:30 [DBG] Connection id "0HMV0D4DRQ5IN", Request id "0HMV0D4DRQ5IN:00000003": done reading request body.
2023-11-08 20:14:43.206 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:14:43.210 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:14:43.212 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 20:14:43.221 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:14:43.289 +05:30 [INF] Executing action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:14:44.585 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 20:14:44.666 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Email == __userName_0)
    .FirstOrDefault()'
2023-11-08 20:14:45.053 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.City (string) Required MaxLength(50), 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.EncryptedPassword (string) Required, 3], [Property: User.FirstName (string) Required MaxLength(50), 4], [Property: User.LastName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.City, u.Email, u.EncryptedPassword, u.FirstName, u.LastName
            FROM Users AS u
            WHERE u.Email == @__userName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 20:14:45.115 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 20:14:45.122 +05:30 [DBG] Creating DbConnection.
2023-11-08 20:14:45.145 +05:30 [DBG] Created DbConnection. (19ms).
2023-11-08 20:14:45.158 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2023-11-08 20:14:45.168 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (53ms).
2023-11-08 20:14:45.182 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:14:45.204 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:14:45.234 +05:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 20:14:45.284 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 20:14:45.327 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 20:14:45.367 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:14:45.381 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 77ms reading results.
2023-11-08 20:14:45.390 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:14:45.398 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2023-11-08 20:14:45.575 +05:30 [INF] Executed action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2277.2785ms.
2023-11-08 20:14:45.580 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 20:14:45.585 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 20:14:45.586 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 20:14:45.587 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 20:14:45.589 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 20:14:45.591 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 20:14:45.602 +05:30 [INF] Executed action CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) in 2729.791ms
2023-11-08 20:14:45.605 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:14:45.606 +05:30 [DBG] Connection id "0HMV0D4DRQ5IN" completed keep alive response.
2023-11-08 20:14:45.612 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 20:14:45.627 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:14:45.631 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-11-08 20:14:45.633 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73 - 200 - text/plain;+charset=utf-8 2846.4898ms
2023-11-08 20:14:54.709 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:14:54.712 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:14:54.715 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:14:54.721 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:14:54.724 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:14:54.744 +05:30 [DBG] Successfully validated the token.
2023-11-08 20:14:54.748 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 20:14:54.751 +05:30 [DBG] Authorization was successful.
2023-11-08 20:14:54.752 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:14:54.757 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 20:14:54.761 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:14:54.763 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:14:54.767 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:14:54.772 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:14:54.774 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:14:54.778 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:14:54.947 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:14:54.952 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:14:54.955 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 20:14:54.958 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:14:54.961 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:14:54.963 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:14:54.966 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:14:54.988 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:15:47.826 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 20:15:47.921 +05:30 [DBG] Hosting starting
2023-11-08 20:15:47.945 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 20:15:47.949 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 20:15:47.955 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 20:15:47.964 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 20:15:47.967 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 20:15:47.970 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 20:15:47.972 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 20:15:47.977 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 20:15:47.980 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 20:15:47.984 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 20:15:47.985 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 20:15:48.075 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 20:15:48.114 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 20:15:48.116 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 20:15:48.118 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 20:15:48.119 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 20:15:48.121 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 20:15:48.123 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 20:15:48.124 +05:30 [INF] Hosting environment: Development
2023-11-08 20:15:48.125 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 20:15:48.126 +05:30 [DBG] Hosting started
2023-11-08 20:15:48.425 +05:30 [DBG] Connection id "0HMV0D5IQ0QIF" received FIN.
2023-11-08 20:15:48.425 +05:30 [DBG] Connection id "0HMV0D5IQ0QIG" received FIN.
2023-11-08 20:15:48.432 +05:30 [DBG] Connection id "0HMV0D5IQ0QIG" accepted.
2023-11-08 20:15:48.432 +05:30 [DBG] Connection id "0HMV0D5IQ0QIF" accepted.
2023-11-08 20:15:48.435 +05:30 [DBG] Connection id "0HMV0D5IQ0QIG" started.
2023-11-08 20:15:48.438 +05:30 [DBG] Connection id "0HMV0D5IQ0QIF" started.
2023-11-08 20:15:48.449 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 20:15:48.449 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 20:15:48.475 +05:30 [DBG] Connection id "0HMV0D5IQ0QIF" stopped.
2023-11-08 20:15:48.475 +05:30 [DBG] Connection id "0HMV0D5IQ0QIG" stopped.
2023-11-08 20:15:48.478 +05:30 [DBG] Connection id "0HMV0D5IQ0QIG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 20:15:48.478 +05:30 [DBG] Connection id "0HMV0D5IQ0QIF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 20:15:48.661 +05:30 [DBG] Connection id "0HMV0D5IQ0QIH" accepted.
2023-11-08 20:15:48.662 +05:30 [DBG] Connection id "0HMV0D5IQ0QIH" started.
2023-11-08 20:15:48.684 +05:30 [DBG] Connection 0HMV0D5IQ0QIH established using the following protocol: "Tls13"
2023-11-08 20:15:48.713 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 20:15:48.731 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 20:15:48.876 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 20:15:48.967 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 20:15:48.971 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 20:15:48.972 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 262.2367ms
2023-11-08 20:15:48.975 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.8110ms
2023-11-08 20:15:48.978 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 20:15:48.988 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.6735ms
2023-11-08 20:15:49.026 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 20:15:49.142 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.0038ms
2023-11-08 20:15:53.140 +05:30 [DBG] Connection id "0HMV0D5IQ0QII" accepted.
2023-11-08 20:15:53.140 +05:30 [DBG] Connection id "0HMV0D5IQ0QII" received FIN.
2023-11-08 20:15:53.142 +05:30 [DBG] Connection id "0HMV0D5IQ0QII" started.
2023-11-08 20:15:53.143 +05:30 [DBG] Connection id "0HMV0D5IQ0QIJ" accepted.
2023-11-08 20:15:53.145 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 20:15:53.147 +05:30 [DBG] Connection id "0HMV0D5IQ0QIJ" started.
2023-11-08 20:15:53.149 +05:30 [DBG] Connection id "0HMV0D5IQ0QII" stopped.
2023-11-08 20:15:53.152 +05:30 [DBG] Connection id "0HMV0D5IQ0QII" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 20:15:53.156 +05:30 [DBG] Connection 0HMV0D5IQ0QIJ established using the following protocol: "Tls13"
2023-11-08 20:15:53.163 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:15:53.165 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:15:53.184 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:15:53.193 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:15:53.197 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:15:53.291 +05:30 [DBG] Successfully validated the token.
2023-11-08 20:15:53.294 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 20:15:53.301 +05:30 [DBG] Authorization was successful.
2023-11-08 20:15:53.302 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:15:53.323 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 20:15:53.328 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:15:53.331 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:15:53.334 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:15:53.338 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:15:53.339 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:15:53.341 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:15:53.429 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 20:15:53.543 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:15:53.547 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:15:53.549 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 20:15:53.551 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:15:53.552 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:15:53.553 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:15:53.555 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:15:53.603 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:26:13.875 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 620520.148ms
2023-11-08 20:26:13.883 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:26:13.890 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Unable to retrieve user id from auth information
   at CityInfo.API.Helpers.PrincipalExtensions.GetCurrentUserId(ClaimsPrincipal claimsPrincipal) in C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\Helpers\PrincipalExtensions.cs:line 10
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\Controllers\PointsOfInterestController.cs:line 44
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-08 20:26:14.119 +05:30 [DBG] Connection id "0HMV0D5IQ0QIJ" completed keep alive response.
2023-11-08 20:26:14.127 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 620963.8944ms
2023-11-08 20:26:14.139 +05:30 [DBG] Config reload token fired. Checking for changes...
2023-11-08 20:26:14.145 +05:30 [DBG] Config reload token fired. Checking for changes...
2023-11-08 20:27:13.167 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-08 20:27:13.268 +05:30 [DBG] Hosting starting
2023-11-08 20:27:13.295 +05:30 [INF] User profile is available. Using 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-08 20:27:13.297 +05:30 [DBG] Reading data from file 'C:\Users\muchaudhary\AppData\Local\ASP.NET\DataProtection-Keys\key-ee440bbc-5af2-4894-b53b-dece72ad9a64.xml'.
2023-11-08 20:27:13.311 +05:30 [DBG] Found key {ee440bbc-5af2-4894-b53b-dece72ad9a64}.
2023-11-08 20:27:13.318 +05:30 [DBG] Considering key {ee440bbc-5af2-4894-b53b-dece72ad9a64} with expiration date 2024-01-09 06:54:19Z as default key.
2023-11-08 20:27:13.322 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 20:27:13.326 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-08 20:27:13.328 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-08 20:27:13.333 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-08 20:27:13.335 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-08 20:27:13.339 +05:30 [DBG] Using key {ee440bbc-5af2-4894-b53b-dece72ad9a64} as the default key.
2023-11-08 20:27:13.340 +05:30 [DBG] Key ring with default key {ee440bbc-5af2-4894-b53b-dece72ad9a64} was loaded during application startup.
2023-11-08 20:27:13.452 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: F5D3BAFE63275228DC0207BE94059AF27C42476A)
2023-11-08 20:27:13.485 +05:30 [INF] Now listening on: https://localhost:7020
2023-11-08 20:27:13.487 +05:30 [INF] Now listening on: http://localhost:5050
2023-11-08 20:27:13.488 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-08 20:27:13.489 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-08 20:27:13.490 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-08 20:27:13.491 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-08 20:27:13.492 +05:30 [INF] Hosting environment: Development
2023-11-08 20:27:13.493 +05:30 [INF] Content root path: C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\
2023-11-08 20:27:13.498 +05:30 [DBG] Hosting started
2023-11-08 20:27:13.676 +05:30 [DBG] Connection id "0HMV0DBV12K39" received FIN.
2023-11-08 20:27:13.685 +05:30 [DBG] Connection id "0HMV0DBV12K39" accepted.
2023-11-08 20:27:13.689 +05:30 [DBG] Connection id "0HMV0DBV12K39" started.
2023-11-08 20:27:13.699 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 20:27:13.720 +05:30 [DBG] Connection id "0HMV0DBV12K39" stopped.
2023-11-08 20:27:13.724 +05:30 [DBG] Connection id "0HMV0DBV12K39" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 20:27:13.889 +05:30 [DBG] Connection id "0HMV0DBV12K3A" accepted.
2023-11-08 20:27:13.891 +05:30 [DBG] Connection id "0HMV0DBV12K3A" started.
2023-11-08 20:27:13.914 +05:30 [DBG] Connection 0HMV0DBV12K3A established using the following protocol: "Tls13"
2023-11-08 20:27:13.942 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 20:27:13.962 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 20:27:14.120 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 20:27:14.228 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 20:27:14.233 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 293.4295ms
2023-11-08 20:27:14.239 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 20:27:14.243 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 3.8326ms
2023-11-08 20:27:14.247 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 20:27:14.263 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.2040ms
2023-11-08 20:27:14.298 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 20:27:14.425 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.2312ms
2023-11-08 20:27:17.079 +05:30 [DBG] Connection id "0HMV0DBV12K3B" accepted.
2023-11-08 20:27:17.079 +05:30 [DBG] Connection id "0HMV0DBV12K3B" received FIN.
2023-11-08 20:27:17.080 +05:30 [DBG] Connection id "0HMV0DBV12K3B" started.
2023-11-08 20:27:17.081 +05:30 [DBG] Connection id "0HMV0DBV12K3C" accepted.
2023-11-08 20:27:17.083 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 20:27:17.084 +05:30 [DBG] Connection id "0HMV0DBV12K3C" started.
2023-11-08 20:27:17.086 +05:30 [DBG] Connection id "0HMV0DBV12K3B" stopped.
2023-11-08 20:27:17.089 +05:30 [DBG] Connection id "0HMV0DBV12K3B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 20:27:17.103 +05:30 [DBG] Connection 0HMV0DBV12K3C established using the following protocol: "Tls13"
2023-11-08 20:27:17.109 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:27:17.111 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:27:17.128 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:27:17.135 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:27:17.139 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:27:17.237 +05:30 [DBG] Successfully validated the token.
2023-11-08 20:27:17.242 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 20:27:17.249 +05:30 [DBG] Authorization was successful.
2023-11-08 20:27:17.251 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:27:17.274 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 20:27:17.278 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:27:17.280 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:27:17.281 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:27:17.284 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:27:17.287 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:27:17.292 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:27:17.398 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-08 20:27:17.506 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:27:17.511 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:27:17.515 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 20:27:17.517 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:27:17.519 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:27:17.520 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:27:17.522 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:27:17.609 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:27:54.920 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 37622.4342ms
2023-11-08 20:27:54.925 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:27:54.928 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Unable to retrieve user id from auth information
   at CityInfo.API.Helpers.PrincipalExtensions.GetCurrentUserId(ClaimsPrincipal claimsPrincipal) in C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\Helpers\PrincipalExtensions.cs:line 10
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\Controllers\PointsOfInterestController.cs:line 44
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-08 20:27:54.963 +05:30 [DBG] Connection id "0HMV0DBV12K3C" completed keep alive response.
2023-11-08 20:27:54.969 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 37859.6663ms
2023-11-08 20:27:57.989 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:27:57.995 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:27:57.999 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:27:58.001 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:27:58.004 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:27:58.005 +05:30 [DBG] Successfully validated the token.
2023-11-08 20:27:58.007 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 20:27:58.009 +05:30 [DBG] Authorization was successful.
2023-11-08 20:27:58.011 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:27:58.014 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 20:27:58.019 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:27:58.022 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:27:58.028 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:27:58.035 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:27:58.039 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:27:58.043 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:27:58.058 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:27:58.062 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:27:58.066 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 20:27:58.069 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:27:58.073 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:27:58.076 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:27:58.078 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:27:58.101 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:29:11.956 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 73912.8645ms
2023-11-08 20:29:11.959 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:29:11.964 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Unable to retrieve user id from auth information
   at CityInfo.API.Helpers.PrincipalExtensions.GetCurrentUserId(ClaimsPrincipal claimsPrincipal) in C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\Helpers\PrincipalExtensions.cs:line 10
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\Controllers\PointsOfInterestController.cs:line 44
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-08 20:29:11.975 +05:30 [DBG] Connection id "0HMV0DBV12K3C" completed keep alive response.
2023-11-08 20:29:11.978 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 73988.4982ms
2023-11-08 20:29:16.395 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73
2023-11-08 20:29:16.404 +05:30 [DBG] POST requests are not supported
2023-11-08 20:29:16.406 +05:30 [DBG] 1 candidate(s) found for the request path '/api/new_authentication/authenticate'
2023-11-08 20:29:16.409 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/new_authentication/authenticate' is valid for the request path '/api/new_authentication/authenticate'
2023-11-08 20:29:16.417 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:29:16.422 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 20:29:16.428 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:29:16.432 +05:30 [INF] Route matched with {action = "Authenticate", controller = "NewAuthentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(NewAuthenticationRequestBody) on controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API).
2023-11-08 20:29:16.438 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:29:16.440 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:29:16.444 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:29:16.447 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:29:16.449 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:29:16.453 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 20:29:16.456 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 20:29:16.459 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 20:29:16.463 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' using the name '' in request data ...
2023-11-08 20:29:16.468 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 20:29:16.472 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 20:29:16.487 +05:30 [DBG] Connection id "0HMV0DBV12K3C", Request id "0HMV0DBV12K3C:00000004": started reading request body.
2023-11-08 20:29:16.493 +05:30 [DBG] Connection id "0HMV0DBV12K3C", Request id "0HMV0DBV12K3C:00000004": done reading request body.
2023-11-08 20:29:16.628 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:29:16.632 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:29:16.634 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 20:29:16.647 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:29:16.663 +05:30 [INF] Executing action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:29:17.864 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 20:29:17.946 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Email == __userName_0)
    .FirstOrDefault()'
2023-11-08 20:29:18.294 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.City (string) Required MaxLength(50), 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.EncryptedPassword (string) Required, 3], [Property: User.FirstName (string) Required MaxLength(50), 4], [Property: User.LastName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.City, u.Email, u.EncryptedPassword, u.FirstName, u.LastName
            FROM Users AS u
            WHERE u.Email == @__userName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 20:29:18.375 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 20:29:18.383 +05:30 [DBG] Creating DbConnection.
2023-11-08 20:29:18.410 +05:30 [DBG] Created DbConnection. (22ms).
2023-11-08 20:29:18.424 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2023-11-08 20:29:18.432 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (58ms).
2023-11-08 20:29:18.446 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:29:18.469 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:29:18.490 +05:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 20:29:18.533 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 20:29:18.570 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 20:29:18.603 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:29:18.617 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 67ms reading results.
2023-11-08 20:29:18.632 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:29:18.645 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (12ms).
2023-11-08 20:30:04.422 +05:30 [INF] Executed action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47749.4393ms.
2023-11-08 20:30:04.426 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 20:30:04.432 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 20:30:04.433 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 20:30:04.434 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 20:30:04.436 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 20:30:04.438 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 20:30:04.440 +05:30 [INF] Executed action CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) in 47986.9687ms
2023-11-08 20:30:04.442 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:30:04.443 +05:30 [DBG] Connection id "0HMV0DBV12K3C" completed keep alive response.
2023-11-08 20:30:04.445 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 20:30:04.461 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:30:04.466 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2023-11-08 20:30:04.468 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73 - 200 - text/plain;+charset=utf-8 48072.7090ms
2023-11-08 20:30:05.434 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 20:30:05.449 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 20:30:05.468 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 20:30:05.471 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 36.9853ms
2023-11-08 20:30:05.509 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 20:30:05.509 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 20:30:05.510 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 1.6137ms
2023-11-08 20:30:05.523 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.5703ms
2023-11-08 20:30:05.650 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 20:30:05.667 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 17.8584ms
2023-11-08 20:30:18.286 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:30:18.291 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:30:18.294 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:30:18.297 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:30:18.300 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:30:18.302 +05:30 [DBG] Successfully validated the token.
2023-11-08 20:30:18.303 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 20:30:18.305 +05:30 [DBG] Authorization was successful.
2023-11-08 20:30:18.306 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:30:18.310 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 20:30:18.312 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:30:18.313 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:30:18.315 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:30:18.316 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:30:18.318 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:30:18.320 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:30:18.323 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:30:18.324 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:30:18.326 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 20:30:18.328 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:30:18.329 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:30:18.330 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:30:18.331 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:30:18.347 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:30:41.746 +05:30 [DBG] Connection id "0HMV0DBV12K3D" received FIN.
2023-11-08 20:30:48.098 +05:30 [DBG] Connection id "0HMV0DBV12K3D" accepted.
2023-11-08 20:30:48.099 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 29779.0184ms
2023-11-08 20:30:48.102 +05:30 [DBG] Connection id "0HMV0DBV12K3D" started.
2023-11-08 20:30:48.107 +05:30 [DBG] Connection id "0HMV0DBV12K3E" accepted.
2023-11-08 20:30:48.108 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:30:48.110 +05:30 [DBG] Connection id "0HMV0DBV12K3E" started.
2023-11-08 20:30:48.109 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-08 20:30:48.118 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Unable to retrieve user id from auth information
   at CityInfo.API.Helpers.PrincipalExtensions.GetCurrentUserId(ClaimsPrincipal claimsPrincipal)
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId)
   at lambda_method82(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-08 20:30:48.128 +05:30 [DBG] Connection 0HMV0DBV12K3E established using the following protocol: "Tls13"
2023-11-08 20:30:48.129 +05:30 [DBG] Connection id "0HMV0DBV12K3D" stopped.
2023-11-08 20:30:48.139 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73
2023-11-08 20:30:48.139 +05:30 [DBG] Connection id "0HMV0DBV12K3C" completed keep alive response.
2023-11-08 20:30:48.140 +05:30 [DBG] Connection id "0HMV0DBV12K3D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 20:30:48.141 +05:30 [DBG] POST requests are not supported
2023-11-08 20:30:48.143 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 29856.3787ms
2023-11-08 20:30:48.147 +05:30 [DBG] 1 candidate(s) found for the request path '/api/new_authentication/authenticate'
2023-11-08 20:30:48.149 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/new_authentication/authenticate' is valid for the request path '/api/new_authentication/authenticate'
2023-11-08 20:30:48.152 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:30:48.154 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 20:30:48.155 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:30:48.158 +05:30 [INF] Route matched with {action = "Authenticate", controller = "NewAuthentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(NewAuthenticationRequestBody) on controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API).
2023-11-08 20:30:48.162 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:30:48.165 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:30:48.170 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:30:48.174 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:30:48.177 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:30:48.180 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 20:30:48.183 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 20:30:48.186 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 20:30:48.189 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' using the name '' in request data ...
2023-11-08 20:30:48.192 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 20:30:48.196 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 20:30:48.201 +05:30 [DBG] Connection id "0HMV0DBV12K3E", Request id "0HMV0DBV12K3E:00000002": started reading request body.
2023-11-08 20:30:48.205 +05:30 [DBG] Connection id "0HMV0DBV12K3E", Request id "0HMV0DBV12K3E:00000002": done reading request body.
2023-11-08 20:30:48.208 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:30:48.210 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:30:48.213 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 20:30:48.215 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:30:48.232 +05:30 [INF] Executing action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:30:48.248 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 20:30:48.253 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Email == __userName_0)
    .FirstOrDefault()'
2023-11-08 20:30:48.258 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.City (string) Required MaxLength(50), 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.EncryptedPassword (string) Required, 3], [Property: User.FirstName (string) Required MaxLength(50), 4], [Property: User.LastName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.City, u.Email, u.EncryptedPassword, u.FirstName, u.LastName
            FROM Users AS u
            WHERE u.Email == @__userName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 20:30:48.261 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 20:30:48.263 +05:30 [DBG] Creating DbConnection.
2023-11-08 20:30:48.264 +05:30 [DBG] Created DbConnection. (1ms).
2023-11-08 20:30:48.266 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-11-08 20:30:48.269 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-11-08 20:30:48.271 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:30:48.273 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:30:48.274 +05:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 20:30:48.276 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 20:30:48.278 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 20:30:48.281 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:30:48.283 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2023-11-08 20:30:48.285 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:30:48.287 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 20:30:48.443 +05:30 [INF] Executed action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 209.1145ms.
2023-11-08 20:30:48.446 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 20:30:48.449 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 20:30:48.450 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 20:30:48.451 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 20:30:48.454 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 20:30:48.456 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 20:30:48.459 +05:30 [INF] Executed action CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) in 279.4245ms
2023-11-08 20:30:48.462 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:30:48.464 +05:30 [DBG] Connection id "0HMV0DBV12K3E" completed keep alive response.
2023-11-08 20:30:48.465 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 20:30:48.467 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:30:48.468 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 20:30:48.470 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73 - 200 - text/plain;+charset=utf-8 331.0486ms
2023-11-08 20:30:57.671 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:30:57.673 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:30:57.675 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:30:57.676 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:30:57.678 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:30:57.680 +05:30 [DBG] Successfully validated the token.
2023-11-08 20:30:57.681 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 20:30:57.682 +05:30 [DBG] Authorization was successful.
2023-11-08 20:30:57.683 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:30:57.684 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 20:30:57.686 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:30:57.688 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:30:57.691 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:30:57.693 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:30:57.694 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:30:57.696 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:30:57.698 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:30:57.700 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:30:57.701 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 20:30:57.702 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:30:57.705 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:30:57.707 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:30:57.709 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:30:57.722 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:37:26.128 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73
2023-11-08 20:37:26.142 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 388445.7768ms
2023-11-08 20:37:26.144 +05:30 [DBG] POST requests are not supported
2023-11-08 20:37:26.148 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:37:26.151 +05:30 [DBG] 1 candidate(s) found for the request path '/api/new_authentication/authenticate'
2023-11-08 20:37:26.155 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Unable to retrieve user id from auth information
   at CityInfo.API.Helpers.PrincipalExtensions.GetCurrentUserId(ClaimsPrincipal claimsPrincipal)
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId)
   at lambda_method82(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-08 20:37:26.156 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/new_authentication/authenticate' is valid for the request path '/api/new_authentication/authenticate'
2023-11-08 20:37:26.168 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:37:26.168 +05:30 [DBG] Connection id "0HMV0DBV12K3E" completed keep alive response.
2023-11-08 20:37:26.170 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-08 20:37:26.172 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 388500.7766ms
2023-11-08 20:37:26.174 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:37:26.176 +05:30 [INF] Route matched with {action = "Authenticate", controller = "NewAuthentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(NewAuthenticationRequestBody) on controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API).
2023-11-08 20:37:26.178 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:37:26.180 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:37:26.181 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:37:26.183 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:37:26.185 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:37:26.187 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 20:37:26.189 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.NewAuthenticationController (CityInfo.API)
2023-11-08 20:37:26.191 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 20:37:26.193 +05:30 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' using the name '' in request data ...
2023-11-08 20:37:26.194 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-08 20:37:26.195 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-08 20:37:26.196 +05:30 [DBG] Connection id "0HMV0DBV12K3C", Request id "0HMV0DBV12K3C:00000006": started reading request body.
2023-11-08 20:37:26.197 +05:30 [DBG] Connection id "0HMV0DBV12K3C", Request id "0HMV0DBV12K3C:00000006": done reading request body.
2023-11-08 20:37:26.199 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:37:26.201 +05:30 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:37:26.202 +05:30 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody' ...
2023-11-08 20:37:26.204 +05:30 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Controllers.NewAuthenticationController+NewAuthenticationRequestBody'.
2023-11-08 20:37:26.215 +05:30 [INF] Executing action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:37:26.276 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 20:37:26.283 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 20:37:26.284 +05:30 [DBG] Creating DbConnection.
2023-11-08 20:37:26.285 +05:30 [DBG] Created DbConnection. (0ms).
2023-11-08 20:37:26.286 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-11-08 20:37:26.289 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-11-08 20:37:26.290 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:37:26.292 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:37:26.294 +05:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 20:37:26.307 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userName_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."City", "u"."Email", "u"."EncryptedPassword", "u"."FirstName", "u"."LastName"
FROM "Users" AS "u"
WHERE "u"."Email" = @__userName_0
LIMIT 1
2023-11-08 20:37:26.310 +05:30 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 20:37:26.311 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:37:26.313 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2023-11-08 20:37:26.315 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:37:26.316 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 20:37:26.421 +05:30 [DBG] Config reload token fired. Checking for changes...
2023-11-08 20:37:26.472 +05:30 [INF] Executed action method CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 254.5512ms.
2023-11-08 20:37:26.475 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 20:37:26.478 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 20:37:26.479 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 20:37:26.480 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 20:37:26.481 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-08 20:37:26.482 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-08 20:37:26.486 +05:30 [INF] Executed action CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API) in 299.3327ms
2023-11-08 20:37:26.487 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.NewAuthenticationController.Authenticate (CityInfo.API)'
2023-11-08 20:37:26.488 +05:30 [DBG] Connection id "0HMV0DBV12K3C" completed keep alive response.
2023-11-08 20:37:26.489 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 20:37:26.490 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:37:26.492 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 20:37:26.493 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7020/api/new_authentication/authenticate application/json 73 - 200 - text/plain;+charset=utf-8 365.0876ms
2023-11-08 20:37:27.008 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/index.html - -
2023-11-08 20:37:27.010 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-08 20:37:27.019 +05:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-08 20:37:27.038 +05:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-08 20:37:27.039 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/index.html - - - 200 - text/html;charset=utf-8 31.3249ms
2023-11-08 20:37:27.089 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - -
2023-11-08 20:37:27.090 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 1.4068ms
2023-11-08 20:37:27.098 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/_vs/browserLink - -
2023-11-08 20:37:27.107 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.8777ms
2023-11-08 20:37:27.186 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - -
2023-11-08 20:37:27.200 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7020/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 14.2967ms
2023-11-08 20:39:19.401 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:39:19.413 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:39:19.416 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:39:19.425 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:39:19.428 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:39:19.431 +05:30 [DBG] Successfully validated the token.
2023-11-08 20:39:19.432 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 20:39:19.434 +05:30 [DBG] Authorization was successful.
2023-11-08 20:39:19.435 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:39:19.440 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 20:39:19.442 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:39:19.444 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:39:19.446 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:39:19.449 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:39:19.451 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:39:19.453 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:39:19.456 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:39:19.459 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:39:19.461 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 20:39:19.465 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:39:19.467 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:39:19.470 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:39:19.472 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:39:19.506 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:40:03.186 +05:30 [INF] 6
2023-11-08 20:40:05.494 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 20:40:05.498 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-11-08 20:40:05.510 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-08 20:40:05.529 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 20:40:05.531 +05:30 [DBG] Creating DbConnection.
2023-11-08 20:40:05.532 +05:30 [DBG] Created DbConnection. (0ms).
2023-11-08 20:40:05.533 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-11-08 20:40:05.534 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-11-08 20:40:05.535 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:40:05.537 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:05.539 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-08 20:40:05.541 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-08 20:40:05.545 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:05.547 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2023-11-08 20:40:05.550 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:05.553 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-11-08 20:40:05.565 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-11-08 20:40:05.571 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-08 20:40:05.575 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 20:40:05.576 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-08 20:40:05.580 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-11-08 20:40:05.584 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:40:05.588 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:05.590 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-11-08 20:40:05.596 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-11-08 20:40:05.606 +05:30 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 20:40:05.622 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:05.629 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 27ms reading results.
2023-11-08 20:40:05.631 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:05.634 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-11-08 20:40:05.659 +05:30 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46146.168ms.
2023-11-08 20:40:05.663 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 20:40:05.670 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 20:40:05.671 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 20:40:05.672 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 20:40:05.674 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-08 20:40:05.675 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-08 20:40:05.737 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 46284.1249ms
2023-11-08 20:40:05.740 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:40:05.742 +05:30 [DBG] Connection id "0HMV0DBV12K3C" completed keep alive response.
2023-11-08 20:40:05.745 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 20:40:05.746 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:40:05.747 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 20:40:05.750 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 200 109 application/json;+charset=utf-8 46348.9103ms
2023-11-08 20:40:17.132 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - -
2023-11-08 20:40:17.136 +05:30 [DBG] The request path  does not match the path filter
2023-11-08 20:40:17.140 +05:30 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:40:17.141 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-11-08 20:40:17.143 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:40:17.145 +05:30 [DBG] Successfully validated the token.
2023-11-08 20:40:17.146 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-08 20:40:17.148 +05:30 [DBG] Authorization was successful.
2023-11-08 20:40:17.148 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:40:17.153 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-08 20:40:17.155 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-08 20:40:17.159 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-08 20:40:17.162 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:40:17.165 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-08 20:40:17.167 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-08 20:40:17.170 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:40:17.172 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-08 20:40:17.175 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:40:17.177 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-08 20:40:17.179 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:40:17.180 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:40:17.182 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-08 20:40:17.183 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-08 20:40:17.198 +05:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-08 20:40:22.845 +05:30 [INF] 6
2023-11-08 20:40:22.849 +05:30 [DBG] Entity Framework Core 7.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.13' with options: None
2023-11-08 20:40:22.856 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 20:40:22.858 +05:30 [DBG] Creating DbConnection.
2023-11-08 20:40:22.860 +05:30 [DBG] Created DbConnection. (2ms).
2023-11-08 20:40:22.863 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-11-08 20:40:22.867 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2023-11-08 20:40:22.870 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:40:22.873 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:22.876 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-08 20:40:22.881 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-08 20:40:22.885 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:22.888 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-11-08 20:40:22.891 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:22.894 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2023-11-08 20:40:22.899 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-08 20:40:22.901 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-08 20:40:22.904 +05:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-08 20:40:22.907 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:40:22.910 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:22.913 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-11-08 20:40:22.918 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-11-08 20:40:22.925 +05:30 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-08 20:40:22.929 +05:30 [DBG] Closing data reader to 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:22.932 +05:30 [DBG] A data reader for 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2023-11-08 20:40:22.936 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\muchaudhary\source\repos\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-08 20:40:22.939 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2023-11-08 20:40:22.942 +05:30 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5742.3094ms.
2023-11-08 20:40:22.945 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-08 20:40:22.949 +05:30 [DBG] No information found on request to perform content negotiation.
2023-11-08 20:40:22.951 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-08 20:40:22.953 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-08 20:40:22.955 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-08 20:40:22.957 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-08 20:40:22.959 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5789.324ms
2023-11-08 20:40:22.961 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-08 20:40:22.962 +05:30 [DBG] Connection id "0HMV0DBV12K3C" completed keep alive response.
2023-11-08 20:40:22.963 +05:30 [DBG] 'CityInfoContext' disposed.
2023-11-08 20:40:22.964 +05:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-11-08 20:40:22.965 +05:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-11-08 20:40:22.967 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7020/api/v2/cities/1/pointsofinterest - - - 200 109 application/json;+charset=utf-8 5834.6823ms
2023-11-08 22:07:53.744 +05:30 [DBG] Connection id "0HMV0DBV12K3A" received FIN.
2023-11-08 22:15:32.779 +05:30 [DBG] Connection id "0HMV0DBV12K3A" is closed. The last processed stream ID was 23.
2023-11-08 22:15:32.830 +05:30 [DBG] Connection id "0HMV0DBV12K3A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-08 22:15:32.918 +05:30 [DBG] Connection id "0HMV0DBV12K3A" stopped.
